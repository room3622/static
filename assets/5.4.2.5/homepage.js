(function(t){"use strict";t.prompt=function(e,o){void 0!==o&&void 0!==o.classes&&"string"==typeof o.classes&&(o={box:o.classes}),t.prompt.options=t.extend({},t.prompt.defaults,o),t.prompt.currentPrefix=t.prompt.options.prefix,t.prompt.timeout&&clearTimeout(t.prompt.timeout),t.prompt.timeout=!1;var p=t.prompt.options,r=t(document.body),i=t(window),n='<div class="'+t.prompt.options.prefix+"box "+p.classes.box+'">';n+=p.useiframe&&t("object, applet").length>0?'<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+p.prefix+"fade "+p.classes.fade+'"></iframe>':'<div class="'+p.prefix+"fade "+p.classes.fade+'"></div>',n+='<div class="'+p.prefix+" "+p.classes.prompt+'">'+'<form action="javascript:false;" onsubmit="return false;" class="'+p.prefix+"form "+p.classes.form+'">'+'<div class="'+p.prefix+"close "+p.classes.close+'">'+p.closeText+"</div>"+'<div class="'+p.prefix+'states"></div>'+"</form>"+"</div>"+"</div>",t.prompt.jqib=t(n).appendTo(r),t.prompt.jqi=t.prompt.jqib.children("."+p.prefix),t.prompt.jqif=t.prompt.jqib.children("."+p.prefix+"fade"),e.constructor===String&&(e={state0:{title:p.title,html:e,buttons:p.buttons,position:p.position,focus:p.focus,defaultButton:p.defaultButton,submit:p.submit}}),t.prompt.options.states={};var s,a;for(s in e)a=t.extend({},t.prompt.defaults.state,{name:s},e[s]),t.prompt.addState(a.name,a),""===t.prompt.currentStateName&&(t.prompt.currentStateName=a.name);t.prompt.jqi.on("click","."+p.prefix+"buttons button",function(){var e=t(this),o=e.parents("."+p.prefix+"state"),r=t.prompt.options.states[o.data("jqi-name")],i=o.children("."+p.prefix+"message"),n=r.buttons[e.text()]||r.buttons[e.html()],s={};if(void 0===n)for(var a in r.buttons)(r.buttons[a].title===e.text()||r.buttons[a].title===e.html())&&(n=r.buttons[a].value);t.each(t.prompt.jqi.children("form").serializeArray(),function(t,e){void 0===s[e.name]?s[e.name]=e.value:typeof s[e.name]===Array||"object"==typeof s[e.name]?s[e.name].push(e.value):s[e.name]=[s[e.name],e.value]});var m=new t.Event("impromptu:submit");m.stateName=r.name,m.state=o,o.trigger(m,[n,i,s]),m.isDefaultPrevented()||t.prompt.close(!0,n,i,s)});var m=function(){if(p.persistent){var e=(""+p.top).indexOf("%")>=0?i.height()*(parseInt(p.top,10)/100):parseInt(p.top,10),o=parseInt(t.prompt.jqi.css("top").replace("px",""),10)-e;t("html,body").animate({scrollTop:o},"fast",function(){var e=0;t.prompt.jqib.addClass(p.prefix+"warning");var o=setInterval(function(){t.prompt.jqib.toggleClass(p.prefix+"warning"),e++>1&&(clearInterval(o),t.prompt.jqib.removeClass(p.prefix+"warning"))},100)})}else t.prompt.close(!0)},u=function(e){var o=window.event?event.keyCode:e.keyCode;if(27===o&&m(),13===o){var r=t.prompt.getCurrentState().find("."+p.prefix+"defaultbutton"),i=t(e.target);i.is("textarea,."+p.prefix+"button")===!1&&r.length>0&&(e.preventDefault(),r.click())}if(9===o){var n=t("input,select,textarea,button",t.prompt.getCurrentState()),s=!e.shiftKey&&e.target===n[n.length-1],a=e.shiftKey&&e.target===n[0];if(s||a)return setTimeout(function(){if(n){var t=n[a===!0?n.length-1:0];t&&t.focus()}},10),!1}};return t.prompt.position(),t.prompt.style(),t.prompt.jqif.click(m),i.resize({animate:!1},t.prompt.position),t.prompt.jqi.find("."+p.prefix+"close").click(t.prompt.close),t.prompt.jqib.on("keydown",u).on("impromptu:loaded",p.loaded).on("impromptu:close",p.close).on("impromptu:statechanging",p.statechanging).on("impromptu:statechanged",p.statechanged),t.prompt.jqif[p.show](p.overlayspeed),t.prompt.jqi[p.show](p.promptspeed,function(){var e=t.prompt.jqi.find("."+p.prefix+"states ."+p.prefix+"state").eq(0);t.prompt.goToState(e.data("jqi-name")),t.prompt.jqib.trigger("impromptu:loaded")}),p.timeout>0&&(t.prompt.timeout=setTimeout(function(){t.prompt.close(!0)},p.timeout)),t.prompt.jqib},t.prompt.defaults={prefix:"jqi",classes:{box:"",fade:"",prompt:"",form:"",close:"",title:"",message:"",buttons:"",button:"",defaultButton:""},title:"",closeText:"&times;",buttons:{Ok:!0},loaded:function(){},submit:function(){},close:function(){},statechanging:function(){},statechanged:function(){},opacity:.6,zIndex:999,overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,defaultButton:0,useiframe:!1,top:"15%",position:{container:null,x:null,y:null,arrow:null,width:null},persistent:!0,timeout:0,states:{},state:{name:null,title:"",html:"",buttons:{Ok:!0},focus:0,defaultButton:0,position:{container:null,x:null,y:null,arrow:null,width:null},submit:function(){return!0}}},t.prompt.currentPrefix=t.prompt.defaults.prefix,t.prompt.currentStateName="",t.prompt.setDefaults=function(e){t.prompt.defaults=t.extend({},t.prompt.defaults,e)},t.prompt.setStateDefaults=function(e){t.prompt.defaults.state=t.extend({},t.prompt.defaults.state,e)},t.prompt.position=function(e){var o=t.fx.off,p=t.prompt.getCurrentState(),r=t.prompt.options.states[p.data("jqi-name")],i=r?r.position:void 0,n=t(window),s=document.body.scrollHeight,a=t(window).height(),m=(t(document).height(),s>a?s:a),u=parseInt(n.scrollTop(),10)+((""+t.prompt.options.top).indexOf("%")>=0?a*(parseInt(t.prompt.options.top,10)/100):parseInt(t.prompt.options.top,10));if(void 0!==e&&e.data.animate===!1&&(t.fx.off=!0),t.prompt.jqib.css({position:"absolute",height:m,width:"100%",top:0,left:0,right:0,bottom:0}),t.prompt.jqif.css({position:"fixed",height:m,width:"100%",top:0,left:0,right:0,bottom:0}),i&&i.container){var l=t(i.container).offset();t.isPlainObject(l)&&void 0!==l.top&&(t.prompt.jqi.css({position:"absolute"}),t.prompt.jqi.animate({top:l.top+i.y,left:l.left+i.x,marginLeft:0,width:void 0!==i.width?i.width:null}),u=l.top+i.y-((""+t.prompt.options.top).indexOf("%")>=0?a*(parseInt(t.prompt.options.top,10)/100):parseInt(t.prompt.options.top,10)),t("html,body").animate({scrollTop:u},"slow","swing",function(){}))}else i&&i.width?(t.prompt.jqi.css({position:"absolute",left:"50%"}),t.prompt.jqi.animate({top:i.y||u,left:i.x||"50%",marginLeft:-1*(i.width/2),width:i.width})):t.prompt.jqi.css({position:"absolute",top:u,left:"50%",marginLeft:-1*(t.prompt.jqi.outerWidth(!1)/2)});void 0!==e&&e.data.animate===!1&&(t.fx.off=o)},t.prompt.style=function(){t.prompt.jqif.css({zIndex:t.prompt.options.zIndex,display:"none",opacity:t.prompt.options.opacity}),t.prompt.jqi.css({zIndex:t.prompt.options.zIndex+1,display:"none"}),t.prompt.jqib.css({zIndex:t.prompt.options.zIndex})},t.prompt.get=function(){return t("."+t.prompt.currentPrefix)},t.prompt.addState=function(e,o,p){var r,i,n,s="",a=null,m="",u="",l=t.prompt.options,f=t("."+t.prompt.currentPrefix+"states"),c=0;o=t.extend({},t.prompt.defaults.state,{name:e},o),null!==o.position.arrow&&(m='<div class="'+l.prefix+"arrow "+l.prefix+"arrow"+o.position.arrow+'"></div>'),o.title&&""!==o.title&&(u='<div class="lead '+l.prefix+"title "+l.classes.title+'">'+o.title+"</div>"),s+='<div id="'+l.prefix+"state_"+e+'" class="'+l.prefix+'state" data-jqi-name="'+e+'" style="display:none;">'+m+u+'<div class="'+l.prefix+"message "+l.classes.message+'">'+o.html+"</div>"+'<div class="'+l.prefix+"buttons "+l.classes.buttons+'"'+(t.isEmptyObject(o.buttons)?'style="display:none;"':"")+">";for(i in o.buttons)n=o.buttons[i],r=o.focus===c||isNaN(o.focus)&&o.defaultButton===c?t.prompt.currentPrefix+"defaultbutton "+l.classes.defaultButton:"","object"==typeof n?(s+='<button class="'+l.classes.button+" "+t.prompt.currentPrefix+"button "+r,n.classes!==void 0&&(s+=" "+(t.isArray(n.classes)?n.classes.join(" "):n.classes)+" "),s+='" name="'+l.prefix+"_"+e+"_button"+n.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+l.prefix+"_"+e+"_button"+n.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+n.value+'">'+n.title+"</button>"):s+='<button class="'+t.prompt.currentPrefix+"button "+l.classes.button+" "+r+'" name="'+l.prefix+"_"+e+"_button"+i.replace(/[^a-z0-9]+/gi,"")+'" id="'+l.prefix+"_"+e+"_button"+i.replace(/[^a-z0-9]+/gi,"")+'" value="'+n+'">'+i+"</button>",c++;return s+="</div></div>",a=t(s),a.on("impromptu:submit",o.submit),void 0!==p?f.find("#"+t.prompt.currentPrefix+"state_"+p).after(a):f.append(a),t.prompt.options.states[e]=o,a},t.prompt.removeState=function(e,o){var p=t.prompt.getState(e),r=function(){p.remove()};return 0===p.length?!1:("none"!==p.css("display")?void 0!==o&&t.prompt.getState(o).length>0?t.prompt.goToState(o,!1,r):p.next().length>0?t.prompt.nextState(r):p.prev().length>0?t.prompt.prevState(r):t.prompt.close():p.slideUp("slow",r),!0)},t.prompt.getState=function(e){return t("#"+t.prompt.currentPrefix+"state_"+e)},t.prompt.getStateContent=function(e){return t.prompt.getState(e)},t.prompt.getCurrentState=function(){return t.prompt.getState(t.prompt.getCurrentStateName())},t.prompt.getCurrentStateName=function(){return t.prompt.currentStateName},t.prompt.goToState=function(e,o,p){var r=(t.prompt.get(),t.prompt.options),i=t.prompt.getState(e),n=r.states[i.data("jqi-name")],s=new t.Event("impromptu:statechanging");return"function"==typeof o&&(p=o,o=!1),t.prompt.jqib.trigger(s,[t.prompt.getCurrentStateName(),e]),!s.isDefaultPrevented()&&i.length>0&&(t.prompt.jqi.find("."+t.prompt.currentPrefix+"parentstate").removeClass(t.prompt.currentPrefix+"parentstate"),o?(t.prompt.jqi.find("."+t.prompt.currentPrefix+"substate").not(i).slideUp(r.promptspeed).removeClass("."+t.prompt.currentPrefix+"substate").find("."+t.prompt.currentPrefix+"arrow").hide(),t.prompt.jqi.find("."+t.prompt.currentPrefix+"state:visible").addClass(t.prompt.currentPrefix+"parentstate"),i.addClass(t.prompt.currentPrefix+"substate")):t.prompt.jqi.find("."+t.prompt.currentPrefix+"state").not(i).slideUp(r.promptspeed).find("."+t.prompt.currentPrefix+"arrow").hide(),t.prompt.currentStateName=n.name,i.slideDown(r.promptspeed,function(){var o=t(this);"string"==typeof n.focus?o.find(n.focus).eq(0).focus():o.find("."+t.prompt.currentPrefix+"defaultbutton").focus(),o.find("."+t.prompt.currentPrefix+"arrow").show(r.promptspeed),"function"==typeof p&&t.prompt.jqib.on("impromptu:statechanged",p),t.prompt.jqib.trigger("impromptu:statechanged",[e]),"function"==typeof p&&t.prompt.jqib.off("impromptu:statechanged",p)}),o||t.prompt.position()),i},t.prompt.nextState=function(e){var o=t("#"+t.prompt.currentPrefix+"state_"+t.prompt.getCurrentStateName()).next();return o.length>0&&t.prompt.goToState(o.attr("id").replace(t.prompt.currentPrefix+"state_",""),e),o},t.prompt.prevState=function(e){var o=t("#"+t.prompt.currentPrefix+"state_"+t.prompt.getCurrentStateName()).prev();return o.length>0&&t.prompt.goToState(o.attr("id").replace(t.prompt.currentPrefix+"state_",""),e),o},t.prompt.close=function(e,o,p,r){t.prompt.timeout&&(clearTimeout(t.prompt.timeout),t.prompt.timeout=!1),t.prompt.jqib&&t.prompt.jqib.fadeOut("fast",function(){t.prompt.jqib.trigger("impromptu:close",[o,p,r]),t.prompt.jqib.remove(),t(window).off("resize",t.prompt.position)}),t.prompt.currentStateName=""},t.fn.prompt=function(e){void 0===e&&(e={}),void 0===e.withDataAndEvents&&(e.withDataAndEvents=!1),t.prompt(t(this).clone(e.withDataAndEvents).html(),e)}})(jQuery);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=h.call(arguments,1),r=0,f=0,d=0,c=0,m=0,g=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(f=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(f=-1*d,d=0),r=0===d?f:d,"deltaY"in s&&(d=-1*s.deltaY,r=d),"deltaX"in s&&(f=s.deltaX,0===d&&(r=-1*f)),0!==d||0!==f){if(1===s.deltaMode){var w=e.data(this,"mousewheel-line-height");r*=w,d*=w,f*=w}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");r*=v,d*=v,f*=v}if(c=Math.max(Math.abs(d),Math.abs(f)),(!l||l>c)&&(l=c,i(s,c)&&(l/=40)),i(s,c)&&(r/=40,f/=40,d/=40),r=Math[r>=1?"floor":"ceil"](r/l),f=Math[f>=1?"floor":"ceil"](f/l),d=Math[d>=1?"floor":"ceil"](d/l),u.settings.normalizeOffset&&this.getBoundingClientRect){var p=this.getBoundingClientRect();m=t.clientX-p.left,g=t.clientY-p.top}return t.deltaX=f,t.deltaY=d,t.deltaFactor=l,t.offsetX=m,t.offsetY=g,t.deltaMode=0,a.unshift(t,r,f,d),o&&clearTimeout(o),o=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function n(){l=null}function i(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var r=s.length;r;)e.event.fixHooks[s[--r]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
(function(e){if(typeof module!=="undefined"&&module.exports){module.exports=e}else{e(jQuery,window,document)}})(function(e){(function(t){var i=typeof define==="function"&&define.amd,a=typeof module!=="undefined"&&module.exports,o="https:"==document.location.protocol?"https:":"http:",n="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";if(!i){if(a){require("jquery-mousewheel")(e)}else{e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+o+"//"+n+"%3E%3C/script%3E"))}}t()})(function(){var t="mCustomScrollbar",i="mCS",a=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:true,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:true,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:true,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:true,updateOnImageLoad:true,autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:true}},n=0,r={},l=window.attachEvent&&!window.addEventListener?1:0,s=false,c,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],f={init:function(t){var t=e.extend(true,{},o,t),l=u.call(this);if(t.live){var s=t.liveSelector||this.selector||a,c=e(s);if(t.live==="off"){m(s);return}r[s]=setTimeout(function(){c.mCustomScrollbar(t);if(t.live==="once"&&c.length){m(s)}},500)}else{m(s)}t.setWidth=t.set_width?t.set_width:t.setWidth;t.setHeight=t.set_height?t.set_height:t.setHeight;t.axis=t.horizontalScroll?"x":p(t.axis);t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia;if(typeof t.mouseWheel!=="object"&&t.mouseWheel==true){t.mouseWheel={enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false}}t.mouseWheel.scrollAmount=!t.mouseWheelPixels?t.mouseWheel.scrollAmount:t.mouseWheelPixels;t.mouseWheel.normalizeDelta=!t.advanced.normalizeMouseWheelDelta?t.mouseWheel.normalizeDelta:t.advanced.normalizeMouseWheelDelta;t.scrollButtons.scrollType=g(t.scrollButtons.scrollType);h(t);return e(l).each(function(){var a=e(this);if(!a.data(i)){a.data(i,{idx:++n,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:false,tweenRunning:false,sequential:{},langDir:a.css("direction"),cbOffsets:null,trigger:null});var o=a.data(i),r=o.opt,l=a.data("mcs-axis"),s=a.data("mcs-scrollbar-position"),c=a.data("mcs-theme");if(l){r.axis=l}if(s){r.scrollbarPosition=s}if(c){r.theme=c;h(r)}v.call(this);e("#mCSB_"+o.idx+"_container img:not(."+d[2]+")").addClass(d[2]);f.update.call(null,a)}})},update:function(t,a){var o=t||u.call(this);return e(o).each(function(){var t=e(this);if(t.data(i)){var o=t.data(i),n=o.opt,r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(!r.length){return}if(o.tweenRunning){V(t)}if(t.hasClass(d[3])){t.removeClass(d[3])}if(t.hasClass(d[4])){t.removeClass(d[4])}S.call(this);_.call(this);if(n.axis!=="y"&&!n.advanced.autoExpandHorizontalScroll){r.css("width",x(r.children()))}o.overflowed=B.call(this);O.call(this);if(n.autoDraggerLength){b.call(this)}C.call(this);k.call(this);var s=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];if(n.axis!=="x"){if(!o.overflowed[0]){T.call(this);if(n.axis==="y"){M.call(this)}else if(n.axis==="yx"&&o.overflowed[1]){Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"})}}else if(l[0].height()>l[0].parent().height()){T.call(this)}else{Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"});o.contentReset.y=null}}if(n.axis!=="y"){if(!o.overflowed[1]){T.call(this);if(n.axis==="x"){M.call(this)}else if(n.axis==="yx"&&o.overflowed[0]){Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"})}}else if(l[1].width()>l[1].parent().width()){T.call(this)}else{Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"});o.contentReset.x=null}}if(a&&o){if(a===2&&n.callbacks.onImageLoad&&typeof n.callbacks.onImageLoad==="function"){n.callbacks.onImageLoad.call(this)}else if(a===3&&n.callbacks.onSelectorChange&&typeof n.callbacks.onSelectorChange==="function"){n.callbacks.onSelectorChange.call(this)}else if(n.callbacks.onUpdate&&typeof n.callbacks.onUpdate==="function"){n.callbacks.onUpdate.call(this)}}X.call(this)}})},scrollTo:function(t,a){if(typeof t=="undefined"||t==null){return}var o=u.call(this);return e(o).each(function(){var o=e(this);if(o.data(i)){var n=o.data(i),r=n.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:false,timeout:60,callbacks:true,onStart:true,onUpdate:true,onComplete:true},s=e.extend(true,{},l,a),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=j.call(this,c[0],"y");c[1]=j.call(this,c[1],"x");if(s.moveDragger){c[0]*=n.scrollRatio.y;c[1]*=n.scrollRatio.x}s.dur=d;setTimeout(function(){if(c[0]!==null&&typeof c[0]!=="undefined"&&r.axis!=="x"&&n.overflowed[0]){s.dir="y";s.overwrite="all";Q(o,c[0].toString(),s)}if(c[1]!==null&&typeof c[1]!=="undefined"&&r.axis!=="y"&&n.overflowed[1]){s.dir="x";s.overwrite="none";Q(o,c[1].toString(),s)}},s.timeout)}})},stop:function(){var t=u.call(this);return e(t).each(function(){var t=e(this);if(t.data(i)){V(t)}})},disable:function(t){var a=u.call(this);return e(a).each(function(){var a=e(this);if(a.data(i)){var o=a.data(i);X.call(this,"remove");M.call(this);if(t){T.call(this)}O.call(this,true);a.addClass(d[3])}})},destroy:function(){var a=u.call(this);return e(a).each(function(){var o=e(this);if(o.data(i)){var n=o.data(i),r=n.opt,l=e("#mCSB_"+n.idx),s=e("#mCSB_"+n.idx+"_container"),c=e(".mCSB_"+n.idx+"_scrollbar");if(r.live){m(r.liveSelector||e(a).selector)}X.call(this,"remove");M.call(this);T.call(this);o.removeData(i);Z(this,"mcs");c.remove();s.find("img."+d[2]).removeClass(d[2]);l.replaceWith(s.contents());o.removeClass(t+" _"+i+"_"+n.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},u=function(){return typeof e(this)!=="object"||e(this).length<1?a:this},h=function(t){var i=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],n=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,i)>-1?false:t.autoDraggerLength;t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?false:t.autoExpandScrollbar;t.scrollButtons.enable=e.inArray(t.theme,o)>-1?false:t.scrollButtons.enable;t.autoHideScrollbar=e.inArray(t.theme,n)>-1?true:t.autoHideScrollbar;t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){if(r[e]){clearTimeout(r[e]);Z(r,e)}},p=function(e){return e==="yx"||e==="xy"||e==="auto"?"yx":e==="x"||e==="horizontal"?"x":"y"},g=function(e){return e==="stepped"||e==="pixels"||e==="step"||e==="click"?"stepped":"stepless"},v=function(){var a=e(this),o=a.data(i),n=o.opt,r=n.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s=n.axis==="yx"?"mCSB_vertical_horizontal":n.axis==="x"?"mCSB_horizontal":"mCSB_vertical",c=n.axis==="yx"?l[0]+l[1]:n.axis==="x"?l[1]:l[0],f=n.axis==="yx"?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=n.autoHideScrollbar?" "+d[6]:"",h=n.axis!=="x"&&o.langDir==="rtl"?" "+d[7]:"";if(n.setWidth){a.css("width",n.setWidth)}if(n.setHeight){a.css("height",n.setHeight)}n.setLeft=n.axis!=="y"&&o.langDir==="rtl"?"989999px":n.setLeft;a.addClass(t+" _"+i+"_"+o.idx+u+h).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+n.theme+" "+s+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+n.setTop+"; left:"+n.setLeft+";' dir="+o.langDir+" /></div>");var m=e("#mCSB_"+o.idx),p=e("#mCSB_"+o.idx+"_container");if(n.axis!=="y"&&!n.advanced.autoExpandHorizontalScroll){p.css("width",x(p.children()))}if(n.scrollbarPosition==="outside"){if(a.css("position")==="static"){a.css("position","relative")}a.css("overflow","visible");m.addClass("mCSB_outside").after(c)}else{m.addClass("mCSB_inside").append(c);p.wrap(f)}w.call(this);var g=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height());g[1].css("min-width",g[1].width())},x=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(true)}).get())},_=function(){var t=e(this),a=t.data(i),o=a.opt,n=e("#mCSB_"+a.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&o.axis!=="y"){n.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right+.4)-Math.floor(n[0].getBoundingClientRect().left),position:"relative"}).unwrap()}},w=function(){var t=e(this),a=t.data(i),o=a.opt,n=e(".mCSB_"+a.idx+"_scrollbar:first"),r=!tt(o.scrollButtons.tabindex)?"":"tabindex='"+o.scrollButtons.tabindex+"'",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=[o.axis==="x"?l[2]:l[0],o.axis==="x"?l[3]:l[1],l[2],l[3]];if(o.scrollButtons.enable){n.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])}},S=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=t.css("max-height")||"none",r=n.indexOf("%")!==-1,l=t.css("box-sizing");if(n!=="none"){var s=r?t.parent().height()*parseInt(n)/100:parseInt(n);if(l==="border-box"){s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())}o.css("max-height",Math.round(s))}},b=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=e("#mCSB_"+a.idx+"_container"),r=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],s=[o.height()/n.outerHeight(false),o.width()/n.outerWidth(false)],c=[parseInt(r[0].css("min-height")),Math.round(s[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(s[1]*r[1].parent().width())],d=l&&c[1]<c[0]?c[0]:c[1],f=l&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"});r[1].css({width:f,"max-width":r[1].parent().width()-10})},C=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=e("#mCSB_"+a.idx+"_container"),r=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],l=[n.outerHeight(false)-o.height(),n.outerWidth(false)-o.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];a.scrollRatio={y:s[0],x:s[1]}},y=function(e,t,i){var a=i?d[0]+"_expanded":"",o=e.closest(".mCSB_scrollTools");if(t==="active"){e.toggleClass(d[0]+" "+a);o.toggleClass(d[1]);e[0]._draggable=e[0]._draggable?0:1}else{if(!e[0]._draggable){if(t==="hide"){e.removeClass(d[0]);o.removeClass(d[1])}else{e.addClass(d[0]);o.addClass(d[1])}}}},B=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=e("#mCSB_"+a.idx+"_container"),r=a.overflowed==null?n.height():n.outerHeight(false),l=a.overflowed==null?n.width():n.outerWidth(false);return[r>o.height(),l>o.width()]},T=function(){var t=e(this),a=t.data(i),o=a.opt,n=e("#mCSB_"+a.idx),r=e("#mCSB_"+a.idx+"_container"),l=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];V(t);if(o.axis!=="x"&&!a.overflowed[0]||o.axis==="y"&&a.overflowed[0]){l[0].add(r).css("top",0);Q(t,"_resetY")}if(o.axis!=="y"&&!a.overflowed[1]||o.axis==="x"&&a.overflowed[1]){var s=dx=0;if(a.langDir==="rtl"){s=n.width()-r.outerWidth(false);dx=Math.abs(s/a.scrollRatio.x)}r.css("left",s);l[1].css("left",dx);Q(t,"_resetX")}},k=function(){var t=e(this),a=t.data(i),o=a.opt;if(!a.bindEvents){R.call(this);if(o.contentTouchScroll){D.call(this)}E.call(this);if(o.mouseWheel.enable){function n(){r=setTimeout(function(){if(!e.event.special.mousewheel){n()}else{clearTimeout(r);W.call(t[0])}},100)}var r;n()}P.call(this);H.call(this);if(o.advanced.autoScrollOnFocus){z.call(this)}if(o.scrollButtons.enable){U.call(this)}if(o.keyboard.enable){F.call(this)}a.bindEvents=true}},M=function(){var t=e(this),a=t.data(i),o=a.opt,n=i+"_"+a.idx,r=".mCSB_"+a.idx+"_scrollbar",l=e("#mCSB_"+a.idx+",#mCSB_"+a.idx+"_container,#mCSB_"+a.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+a.idx+"_dragger_vertical,#mCSB_"+a.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+a.idx+"_container");if(o.advanced.releaseDraggableSelectors){l.add(e(o.advanced.releaseDraggableSelectors))}if(a.bindEvents){e(document).unbind("."+n);l.each(function(){e(this).unbind("."+n)});clearTimeout(t[0]._focusTimeout);Z(t[0],"_focusTimeout");clearTimeout(a.sequential.step);Z(a.sequential,"step");clearTimeout(s[0].onCompleteTimeout);Z(s[0],"onCompleteTimeout");a.bindEvents=false}},O=function(t){var a=e(this),o=a.data(i),n=o.opt,r=e("#mCSB_"+o.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+o.idx+"_container"),s=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];if(n.axis!=="x"){if(o.overflowed[0]&&!t){s[0].add(c[0]).add(s[0].children("a")).css("display","block");l.removeClass(d[8]+" "+d[10])}else{if(n.alwaysShowScrollbar){if(n.alwaysShowScrollbar!==2){c[0].css("display","none")}l.removeClass(d[10])}else{s[0].css("display","none");l.addClass(d[10])}l.addClass(d[8])}}if(n.axis!=="y"){if(o.overflowed[1]&&!t){s[1].add(c[1]).add(s[1].children("a")).css("display","block");l.removeClass(d[9]+" "+d[11])}else{if(n.alwaysShowScrollbar){if(n.alwaysShowScrollbar!==2){c[1].css("display","none")}l.removeClass(d[11])}else{s[1].css("display","none");l.addClass(d[11])}l.addClass(d[9])}}if(!o.overflowed[0]&&!o.overflowed[1]){a.addClass(d[5])}else{a.removeClass(d[5])}},I=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,false]:[e.originalEvent.pageY,e.originalEvent.pageX,false];break;case"touchstart":case"touchmove":case"touchend":var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[i.screenY,i.screenX,a>1]:[i.pageY,i.pageX,a>1];break;default:return[e.pageY,e.pageX,false]}},R=function(){var t=e(this),a=t.data(i),o=a.opt,n=i+"_"+a.idx,r=["mCSB_"+a.idx+"_dragger_vertical","mCSB_"+a.idx+"_dragger_horizontal"],c=e("#mCSB_"+a.idx+"_container"),d=e("#"+r[0]+",#"+r[1]),f,u,h,m=o.advanced.releaseDraggableSelectors?d.add(e(o.advanced.releaseDraggableSelectors)):d;d.bind("mousedown."+n+" touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(i){i.stopImmediatePropagation();i.preventDefault();if(!$(i)){return}s=true;if(l){document.onselectstart=function(){return false}}p(false);V(t);f=e(this);var a=f.offset(),n=I(i)[0]-a.top,r=I(i)[1]-a.left,c=f.height()+a.top,d=f.width()+a.left;if(n<c&&n>0&&r<d&&r>0){u=n;h=r}y(f,"active",o.autoExpandScrollbar)}).bind("touchmove."+n,function(e){e.stopImmediatePropagation();e.preventDefault();var t=f.offset(),i=I(e)[0]-t.top,a=I(e)[1]-t.left;g(u,h,i,a)});e(document).bind("mousemove."+n+" pointermove."+n+" MSPointerMove."+n,function(e){if(f){var t=f.offset(),i=I(e)[0]-t.top,a=I(e)[1]-t.left;if(u===i){return}g(u,h,i,a)}}).add(m).bind("mouseup."+n+" touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(e){if(f){y(f,"active",o.autoExpandScrollbar);f=null}s=false;if(l){document.onselectstart=null}p(true)});function p(e){var t=c.find("iframe");if(!t.length){return}var i=!e?"none":"auto";t.css("pointer-events",i)}function g(e,i,n,l){c[0].idleTimer=o.scrollInertia<233?250:0;if(f.attr("id")===r[1]){var s="x",d=(f[0].offsetLeft-i+l)*a.scrollRatio.x}else{var s="y",d=(f[0].offsetTop-e+n)*a.scrollRatio.y}Q(t,d.toString(),{dir:s,drag:true})}},D=function(){var t=e(this),a=t.data(i),o=a.opt,n=i+"_"+a.idx,r=e("#mCSB_"+a.idx),l=e("#mCSB_"+a.idx+"_container"),d=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],f,u,h,m,p=[],g=[],v,x,_,w,S,b,C=0,y,B=o.axis==="yx"?"none":"all",T=[],k,M,O=l.find("iframe"),R=["touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,"touchmove."+n+" pointermove."+n+" MSPointerMove."+n,"touchend."+n+" pointerup."+n+" MSPointerUp."+n];l.bind(R[0],function(e){D(e)}).bind(R[1],function(e){E(e)});r.bind(R[0],function(e){W(e)}).bind(R[2],function(e){A(e)});if(O.length){O.each(function(){e(this).load(function(){if(L(this)){e(this.contentDocument||this.contentWindow.document).bind(R[0],function(e){D(e);W(e)}).bind(R[1],function(e){E(e)}).bind(R[2],function(e){A(e)})}})})}function D(e){if(!et(e)||s||I(e)[2]){c=0;return}c=1;k=0;M=0;t.removeClass("mCS_touch_action");var i=l.offset();f=I(e)[0]-i.top;u=I(e)[1]-i.left;T=[I(e)[0],I(e)[1]]}function E(e){if(!et(e)||s||I(e)[2]){return}e.stopImmediatePropagation();if(M&&!k){return}x=J();var i=r.offset(),n=I(e)[0]-i.top,c=I(e)[1]-i.left,h="mcsLinearOut";p.push(n);g.push(c);T[2]=Math.abs(I(e)[0]-T[0]);T[3]=Math.abs(I(e)[1]-T[1]);if(a.overflowed[0]){var m=d[0].parent().height()-d[0].height(),v=f-n>0&&n-f>-(m*a.scrollRatio.y)&&(T[3]*2<T[2]||o.axis==="yx")}if(a.overflowed[1]){var _=d[1].parent().width()-d[1].width(),w=u-c>0&&c-u>-(_*a.scrollRatio.x)&&(T[2]*2<T[3]||o.axis==="yx")}if(v||w){e.preventDefault();k=1}else{M=1;t.addClass("mCS_touch_action")}b=o.axis==="yx"?[f-n,u-c]:o.axis==="x"?[null,u-c]:[f-n,null];l[0].idleTimer=250;if(a.overflowed[0]){z(b[0],C,h,"y","all",true)}if(a.overflowed[1]){z(b[1],C,h,"x",B,true)}}function W(e){if(!et(e)||s||I(e)[2]){c=0;return}c=1;e.stopImmediatePropagation();V(t);v=J();var i=r.offset();h=I(e)[0]-i.top;m=I(e)[1]-i.left;p=[];g=[]}function A(e){if(!et(e)||s||I(e)[2]){return}e.stopImmediatePropagation();k=0;M=0;_=J();var t=r.offset(),i=I(e)[0]-t.top,n=I(e)[1]-t.left;if(_-x>30){return}S=1e3/(_-v);var c="mcsEaseOut",d=S<2.5,f=d?[p[p.length-2],g[g.length-2]]:[0,0];w=d?[i-f[0],n-f[1]]:[i-h,n-m];var u=[Math.abs(w[0]),Math.abs(w[1])];S=d?[Math.abs(w[0]/4),Math.abs(w[1]/4)]:[S,S];var C=[Math.abs(l[0].offsetTop)-w[0]*P(u[0]/S[0],S[0]),Math.abs(l[0].offsetLeft)-w[1]*P(u[1]/S[1],S[1])];b=o.axis==="yx"?[C[0],C[1]]:o.axis==="x"?[null,C[1]]:[C[0],null];y=[u[0]*4+o.scrollInertia,u[1]*4+o.scrollInertia];var T=parseInt(o.contentTouchScroll)||0;b[0]=u[0]>T?b[0]:0;b[1]=u[1]>T?b[1]:0;if(a.overflowed[0]){z(b[0],y[0],c,"y",B,false)}if(a.overflowed[1]){z(b[1],y[1],c,"x",B,false)}}function P(e,t){var i=[t*1.5,t*2,t/1.5,t/2];if(e>90){return t>4?i[0]:i[3]}else if(e>60){return t>3?i[3]:i[2]}else if(e>30){return t>8?i[1]:t>6?i[0]:t>4?t:i[2]}else{return t>8?t:i[3]}}function z(e,i,a,o,n,r){if(!e){return}Q(t,e.toString(),{dur:i,scrollEasing:a,dir:o,overwrite:n,drag:r})}},E=function(){var t=e(this),a=t.data(i),o=a.opt,n=a.sequential,r=i+"_"+a.idx,l=e("#mCSB_"+a.idx+"_container"),d=l.parent(),f;l.bind("mousedown."+r,function(e){if(c){return}if(!f){f=1;s=true}}).add(document).bind("mousemove."+r,function(e){if(!c&&f&&u()){var t=l.offset(),i=I(e)[0]-t.top+l[0].offsetTop,r=I(e)[1]-t.left+l[0].offsetLeft;if(i>0&&i<d.height()&&r>0&&r<d.width()){if(n.step){h("off",null,"stepped")}}else{if(o.axis!=="x"&&a.overflowed[0]){if(i<0){h("on",38)}else if(i>d.height()){h("on",40)}}if(o.axis!=="y"&&a.overflowed[1]){if(r<0){h("on",37)}else if(r>d.width()){h("on",39)}}}}}).bind("mouseup."+r,function(e){if(c){return}if(f){f=0;h("off",null)}s=false});function u(){return window.getSelection?window.getSelection().toString():document.selection&&document.selection.type!="Control"?document.selection.createRange().text:0}function h(e,i,a){n.type=a&&f?"stepped":"stepless";n.scrollAmount=10;q(t,e,i,"mcsLinearOut",a?60:null)}},W=function(){if(!e(this).data(i)){return}var t=e(this),a=t.data(i),o=a.opt,n=i+"_"+a.idx,r=e("#mCSB_"+a.idx),s=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],c=e("#mCSB_"+a.idx+"_container").find("iframe");if(c.length){c.each(function(){e(this).load(function(){if(L(this)){e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+n,function(e,t){d(e,t)})}})})}r.bind("mousewheel."+n,function(e,t){d(e,t)});function d(i,n){V(t);if(A(t,i.target)){return}var c=o.mouseWheel.deltaFactor!=="auto"?parseInt(o.mouseWheel.deltaFactor):l&&i.deltaFactor<100?100:i.deltaFactor||100;if(o.axis==="x"||o.mouseWheel.axis==="x"){var d="x",f=[Math.round(c*a.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],u=o.mouseWheel.scrollAmount!=="auto"?f[1]:f[0]>=r.width()?r.width()*.9:f[0],h=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetLeft),m=s[1][0].offsetLeft,p=s[1].parent().width()-s[1].width(),g=i.deltaX||i.deltaY||n}else{var d="y",f=[Math.round(c*a.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],u=o.mouseWheel.scrollAmount!=="auto"?f[1]:f[0]>=r.height()?r.height()*.9:f[0],h=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetTop),m=s[0][0].offsetTop,p=s[0].parent().height()-s[0].height(),g=i.deltaY||n}if(d==="y"&&!a.overflowed[0]||d==="x"&&!a.overflowed[1]){return}if(o.mouseWheel.invert||i.webkitDirectionInvertedFromDevice){g=-g}if(o.mouseWheel.normalizeDelta){g=g<0?-1:1}if(g>0&&m!==0||g<0&&m!==p||o.mouseWheel.preventDefault){i.stopImmediatePropagation();i.preventDefault()}Q(t,(h-g*u).toString(),{dir:d})}},L=function(e){var t=null;try{var i=e.contentDocument||e.contentWindow.document;t=i.body.innerHTML}catch(a){}return t!==null},A=function(t,a){var o=a.nodeName.toLowerCase(),n=t.data(i).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(o,n)>-1&&!(e.inArray(o,r)>-1&&!e(a).is(":focus"))},P=function(){var t=e(this),a=t.data(i),o=i+"_"+a.idx,n=e("#mCSB_"+a.idx+"_container"),r=n.parent(),l=e(".mCSB_"+a.idx+"_scrollbar ."+d[12]);l.bind("touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(e){s=true}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(e){s=false}).bind("click."+o,function(i){if(e(i.target).hasClass(d[12])||e(i.target).hasClass("mCSB_draggerRail")){V(t);var o=e(this),l=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1]){return}var s="x",c=i.pageX>l.offset().left?-1:1,f=Math.abs(n[0].offsetLeft)-c*(r.width()*.9)}else{if(!a.overflowed[0]){return}var s="y",c=i.pageY>l.offset().top?-1:1,f=Math.abs(n[0].offsetTop)-c*(r.height()*.9)}Q(t,f.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),a=t.data(i),o=a.opt,n=i+"_"+a.idx,r=e("#mCSB_"+a.idx+"_container"),l=r.parent();r.bind("focusin."+n,function(i){var a=e(document.activeElement),n=r.find(".mCustomScrollBox").length,s=0;if(!a.is(o.advanced.autoScrollOnFocus)){return}V(t);clearTimeout(t[0]._focusTimeout);t[0]._focusTimer=n?(s+17)*n:0;t[0]._focusTimeout=setTimeout(function(){var e=[it(a)[0],it(a)[1]],i=[r[0].offsetTop,r[0].offsetLeft],n=[i[0]+e[0]>=0&&i[0]+e[0]<l.height()-a.outerHeight(false),i[1]+e[1]>=0&&i[0]+e[1]<l.width()-a.outerWidth(false)],c=o.axis==="yx"&&!n[0]&&!n[1]?"none":"all";if(o.axis!=="x"&&!n[0]){Q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})}if(o.axis!=="y"&&!n[1]){Q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})}},t[0]._focusTimer)})},H=function(){var t=e(this),a=t.data(i),o=i+"_"+a.idx,n=e("#mCSB_"+a.idx+"_container").parent();n.bind("scroll."+o,function(t){if(n.scrollTop()!==0||n.scrollLeft()!==0){e(".mCSB_"+a.idx+"_scrollbar").css("visibility","hidden")}})},U=function(){var t=e(this),a=t.data(i),o=a.opt,n=a.sequential,r=i+"_"+a.idx,l=".mCSB_"+a.idx+"_scrollbar",c=e(l+">a");c.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(i){i.preventDefault();if(!$(i)){return}var r=e(this).attr("class");n.type=o.scrollButtons.scrollType;switch(i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(n.type==="stepped"){return}s=true;a.tweenRunning=false;l("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(n.type==="stepped"){return}s=false;if(n.dir){l("off",r)}break;case"click":if(n.type!=="stepped"||a.tweenRunning){return}l("on",r);break}function l(e,i){n.scrollAmount=o.snapAmount||o.scrollButtons.scrollAmount;q(t,e,i)}})},F=function(){var t=e(this),a=t.data(i),o=a.opt,n=a.sequential,r=i+"_"+a.idx,l=e("#mCSB_"+a.idx),s=e("#mCSB_"+a.idx+"_container"),c=s.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",f=s.find("iframe"),u=["blur."+r+" keydown."+r+" keyup."+r];if(f.length){f.each(function(){e(this).load(function(){if(L(this)){e(this.contentDocument||this.contentWindow.document).bind(u[0],function(e){h(e)})}})})}l.attr("tabindex","0").bind(u[0],function(e){h(e)});function h(i){switch(i.type){case"blur":if(a.tweenRunning&&n.dir){m("off",null)}break;case"keydown":case"keyup":var r=i.keyCode?i.keyCode:i.which,l="on";if(o.axis!=="x"&&(r===38||r===40)||o.axis!=="y"&&(r===37||r===39)){if((r===38||r===40)&&!a.overflowed[0]||(r===37||r===39)&&!a.overflowed[1]){return}if(i.type==="keyup"){l="off"}if(!e(document.activeElement).is(d)){i.preventDefault();i.stopImmediatePropagation();m(l,r)}}else if(r===33||r===34){if(a.overflowed[0]||a.overflowed[1]){i.preventDefault();i.stopImmediatePropagation()}if(i.type==="keyup"){V(t);var f=r===34?-1:1;if(o.axis==="x"||o.axis==="yx"&&a.overflowed[1]&&!a.overflowed[0]){var u="x",h=Math.abs(s[0].offsetLeft)-f*(c.width()*.9)}else{var u="y",h=Math.abs(s[0].offsetTop)-f*(c.height()*.9)}Q(t,h.toString(),{dir:u,scrollEasing:"mcsEaseInOut"})}}else if(r===35||r===36){if(!e(document.activeElement).is(d)){if(a.overflowed[0]||a.overflowed[1]){i.preventDefault();i.stopImmediatePropagation()}if(i.type==="keyup"){if(o.axis==="x"||o.axis==="yx"&&a.overflowed[1]&&!a.overflowed[0]){var u="x",h=r===35?Math.abs(c.width()-s.outerWidth(false)):0}else{var u="y",h=r===35?Math.abs(c.height()-s.outerHeight(false)):0}Q(t,h.toString(),{dir:u,scrollEasing:"mcsEaseInOut"})}}}break}function m(e,i){n.type=o.keyboard.scrollType;n.scrollAmount=o.snapAmount||o.keyboard.scrollAmount;if(n.type==="stepped"&&a.tweenRunning){return}q(t,e,i)}}},q=function(t,a,o,n,r){var l=t.data(i),s=l.opt,c=l.sequential,f=e("#mCSB_"+l.idx+"_container"),u=c.type==="stepped"?true:false,h=s.scrollInertia<26?26:s.scrollInertia,m=s.scrollInertia<1?17:s.scrollInertia;switch(a){case"on":c.dir=[o===d[16]||o===d[15]||o===39||o===37?"x":"y",o===d[13]||o===d[15]||o===38||o===37?-1:1];V(t);if(tt(o)&&c.type==="stepped"){return}p(u);break;case"off":g();if(u||l.tweenRunning&&c.dir){p(true)}break}function p(e){var i=c.type!=="stepped",a=r?r:!e?1e3/60:i?h/1.5:m,o=!e?2.5:i?7.5:40,s=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],d=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],u=c.dir[0]==="x"?s[1]+c.dir[1]*(d[1]*o):s[0]+c.dir[1]*(d[0]*o),g=c.dir[0]==="x"?s[1]+c.dir[1]*parseInt(c.scrollAmount):s[0]+c.dir[1]*parseInt(c.scrollAmount),v=c.scrollAmount!=="auto"?g:u,x=n?n:!e?"mcsLinear":i?"mcsLinearOut":"mcsEaseInOut",_=!e?false:true;if(e&&a<17){v=c.dir[0]==="x"?s[1]:s[0]}Q(t,v.toString(),{dir:c.dir[0],scrollEasing:x,dur:a,onComplete:_});if(e){c.dir=false;return}clearTimeout(c.step);c.step=setTimeout(function(){p()},a)}function g(){clearTimeout(c.step);Z(c,"step");V(t)}},Y=function(t){var a=e(this).data(i).opt,o=[];if(typeof t==="function"){t=t()}if(!(t instanceof Array)){o[0]=t.y?t.y:t.x||a.axis==="x"?null:t;o[1]=t.x?t.x:t.y||a.axis==="y"?null:t}else{o=t.length>1?[t[0],t[1]]:a.axis==="x"?[null,t[0]]:[t[0],null]}if(typeof o[0]==="function"){o[0]=o[0]()}if(typeof o[1]==="function"){o[1]=o[1]()}return o},j=function(t,a){if(t==null||typeof t=="undefined"){return}var o=e(this),n=o.data(i),r=n.opt,l=e("#mCSB_"+n.idx+"_container"),s=l.parent(),c=typeof t;if(!a){a=r.axis==="x"?"x":"y"}var d=a==="x"?l.outerWidth(false):l.outerHeight(false),u=a==="x"?l[0].offsetLeft:l[0].offsetTop,h=a==="x"?"left":"top";switch(c){case"function":return t();break;case"object":var m=t.jquery?t:e(t);if(!m.length){return}return a==="x"?it(m)[1]:it(m)[0];break;case"string":case"number":if(tt(t)){return Math.abs(t)}else if(t.indexOf("%")!==-1){return Math.abs(d*parseInt(t)/100)}else if(t.indexOf("-=")!==-1){return Math.abs(u-parseInt(t.split("-=")[1]))}else if(t.indexOf("+=")!==-1){var p=u+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}else if(t.indexOf("px")!==-1&&tt(t.split("px")[0])){return Math.abs(t.split("px")[0])}else{if(t==="top"||t==="left"){return 0}else if(t==="bottom"){return Math.abs(s.height()-l.outerHeight(false))}else if(t==="right"){return Math.abs(s.width()-l.outerWidth(false))}else if(t==="first"||t==="last"){var m=l.find(":"+t);return a==="x"?it(m)[1]:it(m)[0]}else{if(e(t).length){return a==="x"?it(e(t))[1]:it(e(t))[0]}else{l.css(h,t);f.update.call(null,o[0]);return}}}break}},X=function(t){var a=e(this),o=a.data(i),n=o.opt,r=e("#mCSB_"+o.idx+"_container");if(t){clearTimeout(r[0].autoUpdate);Z(r[0],"autoUpdate");return}var l=r.parent(),s=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=function(){return[s[0].is(":visible")?s[0].outerHeight(true):0,s[1].is(":visible")?s[1].outerWidth(true):0]},u=S(),h,m=[r.outerHeight(false),r.outerWidth(false),l.height(),l.width(),c()[0],c()[1]],p,g=_(),v;x();function x(){clearTimeout(r[0].autoUpdate);if(a.parents("html").length===0){a=null;return}r[0].autoUpdate=setTimeout(function(){if(n.advanced.updateOnSelectorChange){h=S();if(h!==u){b(3);u=h;return}}if(n.advanced.updateOnContentResize){p=[r.outerHeight(false),r.outerWidth(false),l.height(),l.width(),c()[0],c()[1]];if(p[0]!==m[0]||p[1]!==m[1]||p[2]!==m[2]||p[3]!==m[3]||p[4]!==m[4]||p[5]!==m[5]){b(p[0]!==m[0]||p[1]!==m[1]);m=p}}if(n.advanced.updateOnImageLoad){v=_();if(v!==g){r.find("img").each(function(){w(this)});g=v}}if(n.advanced.updateOnSelectorChange||n.advanced.updateOnContentResize||n.advanced.updateOnImageLoad){x()}},n.advanced.autoUpdateTimeout)}function _(){var e=0;if(n.advanced.updateOnImageLoad){e=r.find("img").length}return e}function w(t){if(e(t).hasClass(d[2])){b();return}var i=new Image;function a(e,t){return function(){return t.apply(e,arguments)}}function o(){this.onload=null;e(t).addClass(d[2]);b(2)}i.onload=a(i,o);i.src=t.src}function S(){if(n.advanced.updateOnSelectorChange===true){n.advanced.updateOnSelectorChange="*"}var t=0,i=r.find(n.advanced.updateOnSelectorChange);if(n.advanced.updateOnSelectorChange&&i.length>0){i.each(function(){t+=e(this).height()+e(this).width()})}return t}function b(e){clearTimeout(r[0].autoUpdate);f.update.call(null,a[0],e)}},N=function(e,t,i){return Math.round(e/t)*t-i
},V=function(t){var a=t.data(i),o=e("#mCSB_"+a.idx+"_container,#mCSB_"+a.idx+"_container_wrapper,#mCSB_"+a.idx+"_dragger_vertical,#mCSB_"+a.idx+"_dragger_horizontal");o.each(function(){K.call(this)})},Q=function(t,a,o){var n=t.data(i),r=n.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:false,dur:r.scrollInertia,overwrite:"all",callbacks:true,onStart:true,onUpdate:true,onComplete:true},o=e.extend(l,o),s=[o.dur,o.drag?0:o.dur],c=e("#mCSB_"+n.idx),d=e("#mCSB_"+n.idx+"_container"),f=d.parent(),u=r.callbacks.onTotalScrollOffset?Y.call(t,r.callbacks.onTotalScrollOffset):[0,0],h=r.callbacks.onTotalScrollBackOffset?Y.call(t,r.callbacks.onTotalScrollBackOffset):[0,0];n.trigger=o.trigger;if(f.scrollTop()!==0||f.scrollLeft()!==0){e(".mCSB_"+n.idx+"_scrollbar").css("visibility","visible");f.scrollTop(0).scrollLeft(0)}if(a==="_resetY"&&!n.contentReset.y){if(C("onOverflowYNone")){r.callbacks.onOverflowYNone.call(t[0])}n.contentReset.y=1}if(a==="_resetX"&&!n.contentReset.x){if(C("onOverflowXNone")){r.callbacks.onOverflowXNone.call(t[0])}n.contentReset.x=1}if(a==="_resetY"||a==="_resetX"){return}if((n.contentReset.y||!t[0].mcs)&&n.overflowed[0]){if(C("onOverflowY")){r.callbacks.onOverflowY.call(t[0])}n.contentReset.x=null}if((n.contentReset.x||!t[0].mcs)&&n.overflowed[1]){if(C("onOverflowX")){r.callbacks.onOverflowX.call(t[0])}n.contentReset.x=null}if(r.snapAmount){a=N(a,r.snapAmount,r.snapOffset)}switch(o.dir){case"x":var m=e("#mCSB_"+n.idx+"_dragger_horizontal"),p="left",g=d[0].offsetLeft,v=[c.width()-d.outerWidth(false),m.parent().width()-m.width()],x=[a,a===0?0:a/n.scrollRatio.x],_=u[1],w=h[1],S=_>0?_/n.scrollRatio.x:0,b=w>0?w/n.scrollRatio.x:0;break;case"y":var m=e("#mCSB_"+n.idx+"_dragger_vertical"),p="top",g=d[0].offsetTop,v=[c.height()-d.outerHeight(false),m.parent().height()-m.height()],x=[a,a===0?0:a/n.scrollRatio.y],_=u[0],w=h[0],S=_>0?_/n.scrollRatio.y:0,b=w>0?w/n.scrollRatio.y:0;break}if(x[1]<0||x[0]===0&&x[1]===0){x=[0,0]}else if(x[1]>=v[1]){x=[v[0],v[1]]}else{x[0]=-x[0]}if(!t[0].mcs){T();if(C("onInit")){r.callbacks.onInit.call(t[0])}}clearTimeout(d[0].onCompleteTimeout);if(!n.tweenRunning&&(g===0&&x[0]>=0||g===v[0]&&x[0]<=v[0])){return}G(m[0],p,Math.round(x[1]),s[1],o.scrollEasing);G(d[0],p,Math.round(x[0]),s[0],o.scrollEasing,o.overwrite,{onStart:function(){if(o.callbacks&&o.onStart&&!n.tweenRunning){if(C("onScrollStart")){T();r.callbacks.onScrollStart.call(t[0])}n.tweenRunning=true;y(m);n.cbOffsets=B()}},onUpdate:function(){if(o.callbacks&&o.onUpdate){if(C("whileScrolling")){T();r.callbacks.whileScrolling.call(t[0])}}},onComplete:function(){if(o.callbacks&&o.onComplete){if(r.axis==="yx"){clearTimeout(d[0].onCompleteTimeout)}var e=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout(function(){if(C("onScroll")){T();r.callbacks.onScroll.call(t[0])}if(C("onTotalScroll")&&x[1]>=v[1]-S&&n.cbOffsets[0]){T();r.callbacks.onTotalScroll.call(t[0])}if(C("onTotalScrollBack")&&x[1]<=b&&n.cbOffsets[1]){T();r.callbacks.onTotalScrollBack.call(t[0])}n.tweenRunning=false;d[0].idleTimer=0;y(m,"hide")},e)}}});function C(e){return n&&r.callbacks[e]&&typeof r.callbacks[e]==="function"}function B(){return[r.callbacks.alwaysTriggerOffsets||g>=v[0]+_,r.callbacks.alwaysTriggerOffsets||g<=-w]}function T(){var e=[d[0].offsetTop,d[0].offsetLeft],i=[m[0].offsetTop,m[0].offsetLeft],a=[d.outerHeight(false),d.outerWidth(false)],n=[c.height(),c.width()];t[0].mcs={content:d,top:e[0],left:e[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-n[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-n[1])),direction:o.dir}}},G=function(e,t,i,a,o,n,r){if(!e._mTween){e._mTween={top:{},left:{}}}var r=r||{},l=r.onStart||function(){},s=r.onUpdate||function(){},c=r.onComplete||function(){},d=J(),f,u=0,h=e.offsetTop,m=e.style,p,g=e._mTween[t];if(t==="left"){h=e.offsetLeft}var v=i-h;g.stop=0;if(n!=="none"){S()}w();function x(){if(g.stop){return}if(!u){l.call()}u=J()-d;_();if(u>=g.time){g.time=u>g.time?u+f-(u-g.time):u+f-1;if(g.time<u+1){g.time=u+1}}if(g.time<a){g.id=p(x)}else{c.call()}}function _(){if(a>0){g.currVal=b(g.time,h,v,a,o);m[t]=Math.round(g.currVal)+"px"}else{m[t]=i+"px"}s.call()}function w(){f=1e3/60;g.time=u+f;p=!window.requestAnimationFrame?function(e){_();return setTimeout(e,.01)}:window.requestAnimationFrame;g.id=p(x)}function S(){if(g.id==null){return}if(!window.requestAnimationFrame){clearTimeout(g.id)}else{window.cancelAnimationFrame(g.id)}g.id=null}function b(e,t,i,a,o){switch(o){case"linear":case"mcsLinear":return i*e/a+t;break;case"mcsLinearOut":e/=a;e--;return i*Math.sqrt(1-e*e)+t;break;case"easeInOutSmooth":e/=a/2;if(e<1)return i/2*e*e+t;e--;return-i/2*(e*(e-2)-1)+t;break;case"easeInOutStrong":e/=a/2;if(e<1)return i/2*Math.pow(2,10*(e-1))+t;e--;return i/2*(-Math.pow(2,-10*e)+2)+t;break;case"easeInOut":case"mcsEaseInOut":e/=a/2;if(e<1)return i/2*e*e*e+t;e-=2;return i/2*(e*e*e+2)+t;break;case"easeOutSmooth":e/=a;e--;return-i*(e*e*e*e-1)+t;break;case"easeOutStrong":return i*(-Math.pow(2,-10*e/a)+1)+t;break;case"easeOut":case"mcsEaseOut":default:var n=(e/=a)*e,r=n*e;return t+i*(.499999999999997*r*n+-2.5*n*n+5.5*r+-6.5*n+4*e)}}},J=function(){if(window.performance&&window.performance.now){return window.performance.now()}else{if(window.performance&&window.performance.webkitNow){return window.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return(new Date).getTime()}}}},K=function(){var e=this;if(!e._mTween){e._mTween={top:{},left:{}}}var t=["top","left"];for(var i=0;i<t.length;i++){var a=t[i];if(e._mTween[a].id){if(!window.requestAnimationFrame){clearTimeout(e._mTween[a].id)}else{window.cancelAnimationFrame(e._mTween[a].id)}e._mTween[a].id=null;e._mTween[a].stop=1}}},Z=function(e,t){try{delete e[t]}catch(i){e[t]=null}},$=function(e){return!(e.which&&e.which!==1)},et=function(e){var t=e.originalEvent.pointerType;return!(t&&t!=="touch"&&t!==2)},tt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},it=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[t]=function(t){if(f[t]){return f[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return f.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};e[t]=function(t){if(f[t]){return f[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return f.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};e[t].defaults=o;window[t]=true;e(window).load(function(){e(a)[t]();e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var i=e(t),a=i.parents(".mCSB_container"),o,n;if(!a.length){return}o=a.parent();n=[a[0].offsetTop,a[0].offsetLeft];return n[0]+it(i)[0]>=0&&n[0]+it(i)[0]<o.height()-i.outerHeight(false)&&n[1]+it(i)[1]>=0&&n[1]+it(i)[1]<o.width()-i.outerWidth(false)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var a=e(t).data(i);if(!a){return}return a.overflowed[0]||a.overflowed[1]}})})})});
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i;return t(this[0]).is("form")?e=this.validate().form():(e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e})),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s,r,n,a,o,u,l=this[0];if(e)switch(s=t.data(l.form,"validator").settings,r=s.rules,n=t.validator.staticRules(l),e){case"add":t.extend(n,t.validator.normalizeRule(i)),delete n.messages,r[l.name]=n,i.messages&&(s.messages[l.name]=t.extend(s.messages[l.name],i.messages));break;case"remove":return i?(u={},t.each(i.split(/\s/),function(e,i){u[i]=n[i],delete n[i],"required"===i&&t(l).removeAttr("aria-required")}),u):(delete r[l.name],n)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(l),t.validator.attributeRules(l),t.validator.dataRules(l),t.validator.staticRules(l)),l),a.required&&(o=a.required,delete a.required,a=t.extend({required:o},a),t(l).attr("aria-required","true")),a.remote&&(o=a.remote,delete a.remote,a=t.extend(a,{remote:o})),a}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,""),r=i.settings;r[s]&&!this.is(r.ignore)&&r[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,s=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){s[i]=e})}),i=this.settings.rules,t.each(i,function(e,s){i[e]=t.validator.normalizeRule(s)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),s=this.validationTargetFor(i),r=!0;return this.lastElement=s,void 0===s?delete this.invalid[i.name]:(this.prepareElement(s),this.currentElements=t(s),r=this.check(s)!==!1,r?delete this.invalid[s.name]:this.invalid[s.name]=!0),t(e).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,s=t(e),r=e.type;return"radio"===r||"checkbox"===r?t("input[name='"+e.name+"']:checked").val():"number"===r&&"undefined"!=typeof e.validity?e.validity.badInput?!1:s.val():(i=s.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s,r,n=t(e).rules(),a=t.map(n,function(t,e){return e}).length,o=!1,u=this.elementValue(e);for(s in n){r={method:s,parameters:n[s]};try{if(i=t.validator.methods[s].call(this,u,e,r.parameters),"dependency-mismatch"===i&&1===a){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,r),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",l),l}}if(!o)return this.objectLength(n)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e,method:i.method}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s,r,n,a=this.errorsFor(e),o=this.idOrName(e),u=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(a=t("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(i||""),s=a,this.settings.wrapper&&(s=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e),a.is("label")?a.attr("for",o):0===a.parents("label[for='"+o+"']").length&&(n=a.attr("id"),u?u.match(new RegExp("\b"+n+"\b"))||(u+=" "+n):u=n,t(e).attr("aria-describedby",u),r=this.groups[e.name],r&&t.each(this.groups,function(e,i){i===r&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var i=this.idOrName(e),s=t(e).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return s&&(r=r+", #"+s.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i,s,r={},n=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(s=e.getAttribute(i),""===s&&(s=!0),s=!!s):s=n.attr(i),/min|max/.test(i)&&(null===a||/number|range|text/.test(a))&&(s=Number(s)),s||0===s?r[i]=s:a===i&&"range"!==a&&(r[i]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,s,r=0,n=0,a=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)s=t.charAt(i),n=parseInt(s,10),a&&(n*=2)>9&&(n-=9),r+=n,a=!a;return r%10===0},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&r<=s[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r,n,a=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,s="string"==typeof s&&{url:s}||s,a.old===e?a.valid:(a.old=e,r=this,this.startRequest(i),n={},n[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:n,context:r.currentForm,success:function(s){var n,o,u,l=s===!0||"true"===s;r.settings.messages[i.name].remote=a.originalMessage,l?(u=r.formSubmitted,r.prepareElement(i),r.formSubmitted=u,r.successList.push(i),delete r.invalid[i.name],r.showErrors()):(n={},o=s||r.defaultMessage(i,"remote"),n[i.name]=a.message=t.isFunction(o)?o(e):o,r.invalid[i.name]=!0,r.showErrors(n)),a.valid=l,r.stopRequest(i,l)}},s)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,s){var r=t.port;"abort"===t.mode&&(i[r]&&i[r].abort(),i[r]=s)}):(e=t.ajax,t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(i[n]&&i[n].abort(),i[n]=e.apply(this,arguments),i[n]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})});
!function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate.min"],t):t(jQuery)}(function(t){!function(){function e(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}t.validator.addMethod("maxWords",function(t,a,d){return this.optional(a)||e(t).match(/\b\w+\b/g).length<=d},t.validator.format("Please enter {0} words or less.")),t.validator.addMethod("minWords",function(t,a,d){return this.optional(a)||e(t).match(/\b\w+\b/g).length>=d},t.validator.format("Please enter at least {0} words.")),t.validator.addMethod("rangeWords",function(t,a,d){var i=e(t),n=/\b\w+\b/g;return this.optional(a)||i.match(n).length>=d[0]&&i.match(n).length<=d[1]},t.validator.format("Please enter between {0} and {1} words."))}(),t.validator.addMethod("accept",function(e,a,d){var i,n,r="string"==typeof d?d.replace(/\s/g,"").replace(/,/g,"|"):"image/*",o=this.optional(a);if(o)return o;if("file"===t(a).attr("type")&&(r=r.replace(/\*/g,".*"),a.files&&a.files.length))for(i=0;i<a.files.length;i++)if(n=a.files[i],!n.type.match(new RegExp(".?("+r+")$","i")))return!1;return!0},t.validator.format("Please enter a value with a valid mimetype.")),t.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),t.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var a,d,i,n=t.replace(/ /g,""),r=0,o=n.length;for(a=0;o>a;a++)d=o-a,i=n.substring(a,a+1),r+=d*i;return r%11===0},"Please specify a valid bank account number"),t.validator.addMethod("bankorgiroaccountNL",function(e,a){return this.optional(a)||t.validator.methods.bankaccountNL.call(this,e,a)||t.validator.methods.giroaccountNL.call(this,e,a)},"Please specify a valid bank or giro account number"),t.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t)},"Please specify a valid BIC code"),t.validator.addMethod("cifES",function(t){"use strict";var e,a,d,i,n,r,o=[];if(t=t.toUpperCase(),!t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(d=0;9>d;d++)o[d]=parseInt(t.charAt(d),10);for(a=o[2]+o[4]+o[6],i=1;8>i;i+=2)n=(2*o[i]).toString(),r=n.charAt(1),a+=parseInt(n.charAt(0),10)+(""===r?0:parseInt(r,10));return/^[ABCDEFGHJNPQRSUVW]{1}/.test(t)?(a+="",e=10-parseInt(a.charAt(a.length-1),10),t+=e,o[8].toString()===String.fromCharCode(64+e)||o[8].toString()===t.charAt(t.length-1)):!1},"Please specify a valid CIF number."),t.validator.addMethod("creditcardtypes",function(t,e,a){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var d=0;return a.mastercard&&(d|=1),a.visa&&(d|=2),a.amex&&(d|=4),a.dinersclub&&(d|=8),a.enroute&&(d|=16),a.discover&&(d|=32),a.jcb&&(d|=64),a.unknown&&(d|=128),a.all&&(d=255),1&d&&/^(5[12345])/.test(t)?16===t.length:2&d&&/^(4)/.test(t)?16===t.length:4&d&&/^(3[47])/.test(t)?15===t.length:8&d&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&d&&/^(2(014|149))/.test(t)?15===t.length:32&d&&/^(6011)/.test(t)?16===t.length:64&d&&/^(3)/.test(t)?16===t.length:64&d&&/^(2131|1800)/.test(t)?15===t.length:128&d?!0:!1},"Please enter a valid credit card number."),t.validator.addMethod("currency",function(t,e,a){var d,i="string"==typeof a,n=i?a:a[0],r=i?!0:a[1];return n=n.replace(/,/g,""),n=r?n+"]":n+"]?",d="^["+n+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",d=new RegExp(d),this.optional(e)||d.test(t)},"Please specify a valid currency"),t.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},"Please enter a correct date"),t.validator.addMethod("dateITA",function(t,e){var a,d,i,n,r,o=!1,s=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return s.test(t)?(a=t.split("/"),d=parseInt(a[0],10),i=parseInt(a[1],10),n=parseInt(a[2],10),r=new Date(n,i-1,d,12,0,0,0),o=r.getUTCFullYear()===n&&r.getUTCMonth()===i-1&&r.getUTCDate()===d?!0:!1):o=!1,this.optional(e)||o},"Please enter a correct date"),t.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},"Please enter a correct date"),t.validator.addMethod("extension",function(t,e,a){return a="string"==typeof a?a.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp(".("+a+")$","i"))},t.validator.format("Please enter a value with a valid extension.")),t.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),t.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var a,d,i,n,r,o,s,l,u,A=t.replace(/ /g,"").toUpperCase(),c="",f=!0,h="",F="";if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(A))return!1;if(a=A.substring(0,2),o={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},r=o[a],"undefined"!=typeof r&&(s=new RegExp("^[A-Z]{2}\\d{2}"+r+"$",""),!s.test(A)))return!1;for(d=A.substring(4,A.length)+A.substring(0,4),l=0;l<d.length;l++)i=d.charAt(l),"0"!==i&&(f=!1),f||(c+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i));for(u=0;u<c.length;u++)n=c.charAt(u),F=""+h+n,h=F%97;return 1===h},"Please specify a valid IBAN"),t.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),t.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),t.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),t.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),t.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),t.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),t.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),t.validator.addMethod("nieES",function(t){"use strict";return t=t.toUpperCase(),t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[T]{1}/.test(t)?t[8]===/^[T]{1}[A-Z0-9]{8}$/.test(t):/^[XYZ]{1}/.test(t)?t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23):!1:!1},"Please specify a valid NIE number."),t.validator.addMethod("nifES",function(t){"use strict";return t=t.toUpperCase(),t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):/^[KLM]{1}/.test(t)?t[8]===String.fromCharCode(64):!1:!1},"Please specify a valid NIF number."),t.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),t.validator.addMethod("pattern",function(t,e,a){return this.optional(e)?!0:("string"==typeof a&&(a=new RegExp(a)),a.test(t))},"Invalid format."),t.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),t.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),t.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),t.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),t.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[A-Z] \d[A-Z]\d$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),t.validator.addMethod("require_from_group",function(e,a,d){var i=t(d[1],a.form),n=i.eq(0),r=n.data("valid_req_grp")?n.data("valid_req_grp"):t.extend({},this),o=i.filter(function(){return r.elementValue(this)}).length>=d[0];return n.data("valid_req_grp",r),t(a).data("being_validated")||(i.data("being_validated",!0),i.each(function(){r.element(this)}),i.data("being_validated",!1)),o},t.validator.format("Please fill at least {0} of these fields.")),t.validator.addMethod("skip_or_fill_minimum",function(e,a,d){var i=t(d[1],a.form),n=i.eq(0),r=n.data("valid_skip")?n.data("valid_skip"):t.extend({},this),o=i.filter(function(){return r.elementValue(this)}).length,s=0===o||o>=d[0];return n.data("valid_skip",r),t(a).data("being_validated")||(i.data("being_validated",!0),i.each(function(){r.element(this)}),i.data("being_validated",!1)),s},t.validator.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("stateUS",function(t,e,a){var d,i="undefined"==typeof a,n=i||"undefined"==typeof a.caseSensitive?!1:a.caseSensitive,r=i||"undefined"==typeof a.includeTerritories?!1:a.includeTerritories,o=i||"undefined"==typeof a.includeMilitary?!1:a.includeMilitary;return d=r||o?r&&o?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":r?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",d=n?new RegExp(d):new RegExp(d,"i"),this.optional(e)||d.test(t)},"Please specify a valid state"),t.validator.addMethod("strippedminlength",function(e,a,d){return t(e).text().length>=d},t.validator.format("Please enter at least {0} characters")),t.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),t.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),t.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},t.validator.messages.url),t.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,a,d,i,n,r,o=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],s=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],l=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],u=0;for(e=0;17>e;e++){if(i=l[e],d=t.slice(e,e+1),8===e&&(r=d),isNaN(d)){for(a=0;a<o.length;a++)if(d.toUpperCase()===o[a]){d=s[a],d*=i,isNaN(r)&&8===a&&(r=o[a]);break}}else d*=i;u+=d}return n=u%11,10===n&&(n="X"),n===r?!0:!1},"The specified vehicle identification number (VIN) is invalid."),t.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),t.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")});
(function(){(function(e){var n=this||(0,eval)("this"),t=n.document,r=n.navigator,a=n.jQuery,i=n.JSON;(function(e){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?e(module.exports||exports,require):"function"===typeof define&&define.amd?define(["exports","require"],e):e(n.ko={})})(function(o,u){function c(e,n){return null===e||typeof e in d?e===n:!1}function s(n,t){var r;return function(){r||(r=setTimeout(function(){r=e;n()},t))}}function f(e,n){var t;return function(){clearTimeout(t);t=setTimeout(e,n)}}function l(e,n,t,r){p.d[e]={init:function(e,a,i,o,u){var c,s;p.s(function(){var i=p.a.c(a()),o=!t!==!i,f=!s;if(f||n||o!==c)f&&p.Y.la()&&(s=p.a.ia(p.f.childNodes(e),!0)),o?(f||p.f.T(e,p.a.ia(s)),p.Ca(r?r(u,i):u,e)):p.f.ja(e),c=o},null,{o:e});return{controlsDescendantBindings:!0}}};p.h.ha[e]=!1;p.f.Q[e]=!0}var p="undefined"!==typeof o?o:{};p.b=function(e,n){for(var t=e.split("."),r=p,a=0;a<t.length-1;a++)r=r[t[a]];r[t[t.length-1]]=n};p.A=function(e,n,t){e[n]=t};p.version="3.2.0";p.b("version",p.version);p.a=function(){function o(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])}function u(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function c(e,n){e.__proto__=n;return e}var s={__proto__:[]}instanceof Array,f={},l={};f[r&&/Firefox\/2/i.test(r.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];f.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");o(f,function(e,n){if(n.length)for(var t=0,r=n.length;t<r;t++)l[n[t]]=e});var d={propertychange:!0},h=t&&function(){for(var n=3,r=t.createElement("div"),a=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->",a[0];);return 4<n?n:e}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)},m:function(e,n){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n);for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1},qb:function(e,n,t){for(var r=0,a=e.length;r<a;r++)if(n.call(t,e[r],r))return e[r];return null},ua:function(e,n){var t=p.a.m(e,n);0<t?e.splice(t,1):0===t&&e.shift()},rb:function(e){e=e||[];for(var n=[],t=0,r=e.length;t<r;t++)0>p.a.m(n,e[t])&&n.push(e[t]);return n},Da:function(e,n){e=e||[];for(var t=[],r=0,a=e.length;r<a;r++)t.push(n(e[r],r));return t},ta:function(e,n){e=e||[];for(var t=[],r=0,a=e.length;r<a;r++)n(e[r],r)&&t.push(e[r]);return t},ga:function(e,n){if(n instanceof Array)e.push.apply(e,n);else for(var t=0,r=n.length;t<r;t++)e.push(n[t]);return e},ea:function(e,n,t){var r=p.a.m(p.a.Xa(e),n);0>r?t&&e.push(n):t||e.splice(r,1)},xa:s,extend:u,za:c,Aa:s?c:u,G:o,na:function(e,n){if(!e)return e;var t={},r;for(r in e)e.hasOwnProperty(r)&&(t[r]=n(e[r],r,e));return t},Ka:function(e){for(;e.firstChild;)p.removeNode(e.firstChild)},oc:function(e){e=p.a.S(e);for(var n=t.createElement("div"),r=0,a=e.length;r<a;r++)n.appendChild(p.R(e[r]));return n},ia:function(e,n){for(var t=0,r=e.length,a=[];t<r;t++){var i=e[t].cloneNode(!0);a.push(n?p.R(i):i)}return a},T:function(e,n){p.a.Ka(e);if(n)for(var t=0,r=n.length;t<r;t++)e.appendChild(n[t])},Lb:function(e,n){var t=e.nodeType?[e]:e;if(0<t.length){for(var r=t[0],a=r.parentNode,i=0,o=n.length;i<o;i++)a.insertBefore(n[i],r);i=0;for(o=t.length;i<o;i++)p.removeNode(t[i])}},ka:function(e,n){if(e.length){for(n=8===n.nodeType&&n.parentNode||n;e.length&&e[0].parentNode!==n;)e.shift();if(1<e.length){var t=e[0],r=e[e.length-1];for(e.length=0;t!==r;)if(e.push(t),t=t.nextSibling,!t)return;e.push(r)}}return e},Nb:function(e,n){7>h?e.setAttribute("selected",n):e.selected=n},cb:function(n){return null===n||n===e?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(e,n){e=e||"";return n.length>e.length?!1:e.substring(0,n.length)===n},cc:function(e,n){if(e===n)return!0;if(11===e.nodeType)return!1;if(n.contains)return n.contains(3===e.nodeType?e.parentNode:e);if(n.compareDocumentPosition)return 16==(n.compareDocumentPosition(e)&16);for(;e&&e!=n;)e=e.parentNode;return!!e},Ja:function(e){return p.a.cc(e,e.ownerDocument.documentElement)},ob:function(e){return!!p.a.qb(e,p.a.Ja)},t:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(e,n,t){var r=h&&d[n];if(!r&&a)a(e).bind(n,t);else if(r||"function"!=typeof e.addEventListener)if("undefined"!=typeof e.attachEvent){var i=function(n){t.call(e,n)},o="on"+n;e.attachEvent(o,i);p.a.w.da(e,function(){e.detachEvent(o,i)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else e.addEventListener(n,t,!1)},oa:function(e,r){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var i;"input"===p.a.t(e)&&e.type&&"click"==r.toLowerCase()?(i=e.type,i="checkbox"==i||"radio"==i):i=!1;if(a&&!i)a(e).trigger(r);else if("function"==typeof t.createEvent)if("function"==typeof e.dispatchEvent)i=t.createEvent(l[r]||"HTMLEvents"),i.initEvent(r,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i);else throw Error("The supplied element doesn't support dispatchEvent");else if(i&&e.click)e.click();else if("undefined"!=typeof e.fireEvent)e.fireEvent("on"+r);else throw Error("Browser doesn't support triggering events")},c:function(e){return p.C(e)?e():e},Xa:function(e){return p.C(e)?e.v():e},Ba:function(e,n,t){if(n){var r=/\S+/g,a=e.className.match(r)||[];p.a.u(n.match(r),function(e){p.a.ea(a,e,t)});e.className=a.join(" ")}},bb:function(n,t){var r=p.a.c(t);if(null===r||r===e)r="";var a=p.f.firstChild(n);!a||3!=a.nodeType||p.f.nextSibling(a)?p.f.T(n,[n.ownerDocument.createTextNode(r)]):a.data=r;p.a.fc(n)},Mb:function(e,n){e.name=n;if(7>=h)try{e.mergeAttributes(t.createElement("<input name='"+e.name+"'/>"),!1)}catch(r){}},fc:function(e){9<=h&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},dc:function(e){if(h){var n=e.style.width;e.style.width=0;e.style.width=n}},sc:function(e,n){e=p.a.c(e);n=p.a.c(n);for(var t=[],r=e;r<=n;r++)t.push(r);return t},S:function(e){for(var n=[],t=0,r=e.length;t<r;t++)n.push(e[t]);return n},yc:6===h,zc:7===h,L:h,xb:function(e,n){for(var t=p.a.S(e.getElementsByTagName("input")).concat(p.a.S(e.getElementsByTagName("textarea"))),r="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},a=[],i=t.length-1;0<=i;i--)r(t[i])&&a.push(t[i]);return a},pc:function(e){return"string"==typeof e&&(e=p.a.cb(e))?i&&i.parse?i.parse(e):new Function("return "+e)():null},eb:function(e,n,t){if(!i||!i.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return i.stringify(p.a.c(e),n,t)},qc:function(e,n,r){r=r||{};var a=r.params||{},i=r.includeFields||this.vb,u=e;if("object"==typeof e&&"form"===p.a.t(e))for(var u=e.action,c=i.length-1;0<=c;c--)for(var s=p.a.xb(e,i[c]),f=s.length-1;0<=f;f--)a[s[f].name]=s[f].value;n=p.a.c(n);var l=t.createElement("form");l.style.display="none";l.action=u;l.method="post";for(var d in n)e=t.createElement("input"),e.type="hidden",e.name=d,e.value=p.a.eb(p.a.c(n[d])),l.appendChild(e);o(a,function(e,n){var r=t.createElement("input");r.type="hidden";r.name=e;r.value=n;l.appendChild(r)});t.body.appendChild(l);r.submitter?r.submitter(l):l.submit();setTimeout(function(){l.parentNode.removeChild(l)},0)}}}();p.b("utils",p.a);p.b("utils.arrayForEach",p.a.u);p.b("utils.arrayFirst",p.a.qb);p.b("utils.arrayFilter",p.a.ta);p.b("utils.arrayGetDistinctValues",p.a.rb);p.b("utils.arrayIndexOf",p.a.m);p.b("utils.arrayMap",p.a.Da);p.b("utils.arrayPushAll",p.a.ga);p.b("utils.arrayRemoveItem",p.a.ua);p.b("utils.extend",p.a.extend);p.b("utils.fieldsIncludedWithJsonPost",p.a.vb);p.b("utils.getFormFields",p.a.xb);p.b("utils.peekObservable",p.a.Xa);p.b("utils.postJson",p.a.qc);p.b("utils.parseJson",p.a.pc);p.b("utils.registerEventHandler",p.a.n);p.b("utils.stringifyJson",p.a.eb);p.b("utils.range",p.a.sc);p.b("utils.toggleDomNodeCssClass",p.a.Ba);p.b("utils.triggerEvent",p.a.oa);p.b("utils.unwrapObservable",p.a.c);p.b("utils.objectForEach",p.a.G);p.b("utils.addOrRemoveItem",p.a.ea);p.b("unwrap",p.a.c);Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,t=Array.prototype.slice.call(arguments);e=t.shift();return function(){return n.apply(e,t.concat(Array.prototype.slice.call(arguments)))}});p.a.e=new function(){function n(n,i){var o=n[r];if(!o||"null"===o||!a[o]){if(!i)return e;o=n[r]="ko"+t++;a[o]={}}return a[o]}var t=0,r="__ko__"+(new Date).getTime(),a={};return{get:function(t,r){var a=n(t,!1);return a===e?e:a[r]},set:function(t,r,a){if(a!==e||n(t,!1)!==e)n(t,!0)[r]=a},clear:function(e){var n=e[r];return n?(delete a[n],e[r]=null,!0):!1},F:function(){return t++ +r}}};p.b("utils.domData",p.a.e);p.b("utils.domData.clear",p.a.e.clear);p.a.w=new function(){function n(n,t){var a=p.a.e.get(n,r);a===e&&t&&(a=[],p.a.e.set(n,r,a));return a}function t(e){var r=n(e,!1);if(r)for(var r=r.slice(0),a=0;a<r.length;a++)r[a](e);p.a.e.clear(e);p.a.w.cleanExternalData(e);if(o[e.nodeType])for(r=e.firstChild;e=r;)r=e.nextSibling,8===e.nodeType&&t(e)}var r=p.a.e.F(),i={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{da:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");n(e,!0).push(t)},Kb:function(t,a){var i=n(t,!1);i&&(p.a.ua(i,a),0==i.length&&p.a.e.set(t,r,e))},R:function(e){if(i[e.nodeType]&&(t(e),o[e.nodeType])){var n=[];p.a.ga(n,e.getElementsByTagName("*"));for(var r=0,a=n.length;r<a;r++)t(n[r])}return e},removeNode:function(e){p.R(e);e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){a&&"function"==typeof a.cleanData&&a.cleanData([e])}}};p.R=p.a.w.R;p.removeNode=p.a.w.removeNode;p.b("cleanNode",p.R);p.b("removeNode",p.removeNode);p.b("utils.domNodeDisposal",p.a.w);p.b("utils.domNodeDisposal.addDisposeCallback",p.a.w.da);p.b("utils.domNodeDisposal.removeDisposeCallback",p.a.w.Kb);(function(){p.a.ba=function(e){var r;if(a)if(a.parseHTML)r=a.parseHTML(e)||[];else{if((r=a.clean([e]))&&r[0]){for(e=r[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var i=p.a.cb(e).toLowerCase();r=t.createElement("div");i=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];e="ignored<div>"+i[1]+e+i[2]+"</div>";for("function"==typeof n.innerShiv?r.appendChild(n.innerShiv(e)):r.innerHTML=e;i[0]--;)r=r.lastChild;r=p.a.S(r.lastChild.childNodes)}return r};p.a.$a=function(n,t){p.a.Ka(n);t=p.a.c(t);if(null!==t&&t!==e)if("string"!=typeof t&&(t=t.toString()),a)a(n).html(t);else for(var r=p.a.ba(t),i=0;i<r.length;i++)n.appendChild(r[i])}})();p.b("utils.parseHtmlFragment",p.a.ba);p.b("utils.setHtml",p.a.$a);p.D=function(){function n(e,t){if(e)if(8==e.nodeType){var r=p.D.Gb(e.nodeValue);null!=r&&t.push({bc:e,mc:r})}else if(1==e.nodeType)for(var r=0,a=e.childNodes,i=a.length;r<i;r++)n(a[r],t)}var t={};return{Ua:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);t[n]=e;return"<!--[ko_memo:"+n+"]-->"},Rb:function(n,r){var a=t[n];if(a===e)throw Error("Couldn't find any memo with ID "+n+". Perhaps it's already been unmemoized.");try{return a.apply(null,r||[]),!0}finally{delete t[n]}},Sb:function(e,t){var r=[];n(e,r);for(var a=0,i=r.length;a<i;a++){var o=r[a].bc,u=[o];t&&p.a.ga(u,t);p.D.Rb(r[a].mc,u);o.nodeValue="";o.parentNode&&o.parentNode.removeChild(o)}},Gb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}();p.b("memoization",p.D);p.b("memoization.memoize",p.D.Ua);p.b("memoization.unmemoize",p.D.Rb);p.b("memoization.parseMemoText",p.D.Gb);p.b("memoization.unmemoizeDomNodeAndDescendants",p.D.Sb);p.La={throttle:function(e,n){e.throttleEvaluation=n;var t=null;return p.j({read:e,write:function(r){clearTimeout(t);t=setTimeout(function(){e(r)},n)}})},rateLimit:function(e,n){var t,r,a;"number"==typeof n?t=n:(t=n.timeout,r=n.method);a="notifyWhenChangesStop"==r?f:s;e.Ta(function(e){return a(e,t)})},notify:function(e,n){e.equalityComparer="always"==n?null:c}};var d={undefined:1,"boolean":1,number:1,string:1};p.b("extenders",p.La);p.Pb=function(e,n,t){this.target=e;this.wa=n;this.ac=t;this.Cb=!1;p.A(this,"dispose",this.K)};p.Pb.prototype.K=function(){this.Cb=!0;this.ac()};p.P=function(){p.a.Aa(this,p.P.fn);this.M={}};var h="change",b={U:function(e,n,t){var r=this;t=t||h;var a=new p.Pb(r,n?e.bind(n):e,function(){p.a.ua(r.M[t],a);r.nb&&r.nb()});r.va&&r.va(t);r.M[t]||(r.M[t]=[]);r.M[t].push(a);return a},notifySubscribers:function(e,n){n=n||h;if(this.Ab(n))try{p.k.Ea();for(var t=this.M[n].slice(0),r=0,a;a=t[r];++r)a.Cb||a.wa(e)}finally{p.k.end()}},Ta:function(e){var n=this,t=p.C(n),r,a,i;n.qa||(n.qa=n.notifySubscribers,n.notifySubscribers=function(e,t){t&&t!==h?"beforeChange"===t?n.kb(e):n.qa(e,t):n.lb(e)});var o=e(function(){t&&i===n&&(i=n());r=!1;n.Pa(a,i)&&n.qa(a=i)});n.lb=function(e){r=!0;i=e;o()};n.kb=function(e){r||(a=e,n.qa(e,"beforeChange"))}},Ab:function(e){return this.M[e]&&this.M[e].length},yb:function(){var e=0;p.a.G(this.M,function(n,t){e+=t.length});return e},Pa:function(e,n){return!this.equalityComparer||!this.equalityComparer(e,n)},extend:function(e){var n=this;e&&p.a.G(e,function(e,t){var r=p.La[e];"function"==typeof r&&(n=r(n,t)||n)});return n}};p.A(b,"subscribe",b.U);p.A(b,"extend",b.extend);p.A(b,"getSubscriptionsCount",b.yb);p.a.xa&&p.a.za(b,Function.prototype);p.P.fn=b;p.Db=function(e){return null!=e&&"function"==typeof e.U&&"function"==typeof e.notifySubscribers};p.b("subscribable",p.P);p.b("isSubscribable",p.Db);p.Y=p.k=function(){function e(e){t.push(r);r=e}function n(){r=t.pop()}var t=[],r,a=0;return{Ea:e,end:n,Jb:function(e){if(r){if(!p.Db(e))throw Error("Only subscribable things can act as dependencies");r.wa(e,e.Vb||(e.Vb=++a))}},B:function(t,r,a){try{return e(),t.apply(r,a||[])}finally{n()}},la:function(){if(r)return r.s.la()},ma:function(){if(r)return r.ma}}}();p.b("computedContext",p.Y);p.b("computedContext.getDependenciesCount",p.Y.la);p.b("computedContext.isInitial",p.Y.ma);p.b("computedContext.isSleeping",p.Y.Ac);p.p=function(e){function n(){if(0<arguments.length)return n.Pa(t,arguments[0])&&(n.X(),t=arguments[0],n.W()),this;p.k.Jb(n);return t}var t=e;p.P.call(n);p.a.Aa(n,p.p.fn);n.v=function(){return t};n.W=function(){n.notifySubscribers(t)};n.X=function(){n.notifySubscribers(t,"beforeChange")};p.A(n,"peek",n.v);p.A(n,"valueHasMutated",n.W);p.A(n,"valueWillMutate",n.X);return n};p.p.fn={equalityComparer:c};var m=p.p.rc="__ko_proto__";p.p.fn[m]=p.p;p.a.xa&&p.a.za(p.p.fn,p.P.fn);p.Ma=function(n,t){return null===n||n===e||n[m]===e?!1:n[m]===t?!0:p.Ma(n[m],t)};p.C=function(e){return p.Ma(e,p.p)};p.Ra=function(e){return"function"==typeof e&&e[m]===p.p||"function"==typeof e&&e[m]===p.j&&e.hc?!0:!1};p.b("observable",p.p);p.b("isObservable",p.C);p.b("isWriteableObservable",p.Ra);p.b("isWritableObservable",p.Ra);p.aa=function(e){e=e||[];if("object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");e=p.p(e);p.a.Aa(e,p.aa.fn);return e.extend({trackArrayChanges:!0})};p.aa.fn={remove:function(e){for(var n=this.v(),t=[],r="function"!=typeof e||p.C(e)?function(n){return n===e}:e,a=0;a<n.length;a++){var i=n[a];r(i)&&(0===t.length&&this.X(),t.push(i),n.splice(a,1),a--)}t.length&&this.W();return t},removeAll:function(n){if(n===e){var t=this.v(),r=t.slice(0);this.X();t.splice(0,t.length);this.W();return r}return n?this.remove(function(e){return 0<=p.a.m(n,e)}):[]},destroy:function(e){var n=this.v(),t="function"!=typeof e||p.C(e)?function(n){return n===e}:e;this.X();for(var r=n.length-1;0<=r;r--)t(n[r])&&(n[r]._destroy=!0);this.W()},destroyAll:function(n){return n===e?this.destroy(function(){return!0}):n?this.destroy(function(e){return 0<=p.a.m(n,e)}):[]},indexOf:function(e){var n=this();return p.a.m(n,e)},replace:function(e,n){var t=this.indexOf(e);0<=t&&(this.X(),this.v()[t]=n,this.W())}};p.a.u("pop push reverse shift sort splice unshift".split(" "),function(e){p.aa.fn[e]=function(){var n=this.v();this.X();this.sb(n,e,arguments);n=n[e].apply(n,arguments);this.W();return n}});p.a.u(["slice"],function(e){p.aa.fn[e]=function(){var n=this();return n[e].apply(n,arguments)}});p.a.xa&&p.a.za(p.aa.fn,p.p.fn);p.b("observableArray",p.aa);var g="arrayChange";p.La.trackArrayChanges=function(e){function n(){if(!t){t=!0;var n=e.notifySubscribers;e.notifySubscribers=function(e,t){t&&t!==h||++a;return n.apply(this,arguments)};var i=[].concat(e.v()||[]);r=null;e.U(function(n){n=[].concat(n||[]);if(e.Ab(g)){var t;if(!r||1<a)r=p.a.Fa(i,n,{sparse:!0});t=r;t.length&&e.notifySubscribers(t,g)}i=n;r=null;a=0})}}if(!e.sb){var t=!1,r=null,a=0,i=e.U;e.U=e.subscribe=function(e,t,r){r===g&&n();return i.apply(this,arguments)};e.sb=function(e,n,i){function o(e,n,t){return u[u.length]={status:e,value:n,index:t}}if(t&&!a){var u=[],c=e.length,s=i.length,f=0;switch(n){case"push":f=c;case"unshift":for(n=0;n<s;n++)o("added",i[n],f+n);break;case"pop":f=c-1;case"shift":c&&o("deleted",e[f],f);break;case"splice":n=Math.min(Math.max(0,0>i[0]?c+i[0]:i[0]),c);for(var c=1===s?c:Math.min(n+(i[1]||0),c),s=n+s-2,f=Math.max(c,s),l=[],d=[],h=2;n<f;++n,++h)n<c&&d.push(o("deleted",e[n],n)),n<s&&l.push(o("added",i[h],n));p.a.wb(d,l);break;default:return}r=u}}}};p.s=p.j=function(n,t,r){function a(){p.a.G(C,function(e,n){n.K()});C={}}function i(){a();N=0;m=!0;d=!1}function o(){var e=c.throttleEvaluation;e&&0<=e?(clearTimeout(S),S=setTimeout(u,e)):c.ib?c.ib():u()}function u(n){if(h){if(v)throw Error("A 'pure' computed must not be called recursively")}else if(!m){if(E&&E()){if(!b){T();return}}else b=!1;h=!0;if(y)try{var r={};p.k.Ea({wa:function(e,n){r[n]||(r[n]=1,++N)},s:c,ma:e});N=0;l=g.call(t)}finally{p.k.end(),h=!1}else try{var a=C,i=N;p.k.Ea({wa:function(e,n){m||(i&&a[n]?(C[n]=a[n],++N,delete a[n],--i):C[n]||(C[n]=e.U(o),++N))},s:c,ma:v?e:!N});C={};N=0;try{var u=t?g.call(t):g()}finally{p.k.end(),i&&p.a.G(a,function(e,n){n.K()}),d=!1}c.Pa(l,u)&&(c.notifySubscribers(l,"beforeChange"),l=u,!0!==n&&c.notifySubscribers(l))}finally{h=!1}N||T()}}function c(){if(0<arguments.length){if("function"===typeof w)w.apply(t,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}p.k.Jb(c);d&&u(!0);return l}function s(){d&&!N&&u(!0);return l}function f(){return d||0<N}var l,d=!0,h=!1,b=!1,m=!1,g=n,v=!1,y=!1;g&&"object"==typeof g?(r=g,g=r.read):(r=r||{},g||(g=r.read));if("function"!=typeof g)throw Error("Pass a function that returns the value of the ko.computed");var w=r.write,x=r.disposeWhenNodeIsRemoved||r.o||null,k=r.disposeWhen||r.Ia,E=k,T=i,C={},N=0,S=null;t||(t=r.owner);p.P.call(c);p.a.Aa(c,p.j.fn);c.v=s;c.la=function(){return N};c.hc="function"===typeof r.write;c.K=function(){T()};c.Z=f;var _=c.Ta;c.Ta=function(e){_.call(c,e);c.ib=function(){c.kb(l);d=!0;c.lb(c)}};r.pure?(y=v=!0,c.va=function(){y&&(y=!1,u(!0))},c.nb=function(){c.yb()||(a(),y=d=!0)}):r.deferEvaluation&&(c.va=function(){s();delete c.va});p.A(c,"peek",c.v);p.A(c,"dispose",c.K);p.A(c,"isActive",c.Z);p.A(c,"getDependenciesCount",c.la);x&&(b=!0,x.nodeType&&(E=function(){return!p.a.Ja(x)||k&&k()}));y||r.deferEvaluation||u();x&&f()&&x.nodeType&&(T=function(){p.a.w.Kb(x,T);i()},p.a.w.da(x,T));return c};p.jc=function(e){return p.Ma(e,p.j)};b=p.p.rc;p.j[b]=p.p;p.j.fn={equalityComparer:c};p.j.fn[b]=p.j;p.a.xa&&p.a.za(p.j.fn,p.P.fn);p.b("dependentObservable",p.j);p.b("computed",p.j);p.b("isComputed",p.jc);p.Ib=function(e,n){if("function"===typeof e)return p.s(e,n,{pure:!0});e=p.a.extend({},e);e.pure=!0;return p.s(e,n)};p.b("pureComputed",p.Ib);(function(){function n(a,i,o){o=o||new r;a=i(a);if("object"!=typeof a||null===a||a===e||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var u=a instanceof Array?[]:{};o.save(a,u);t(a,function(t){var r=i(a[t]);switch(typeof r){case"boolean":case"number":case"string":case"function":u[t]=r;break;case"object":case"undefined":var c=o.get(r);u[t]=c!==e?c:n(r,i,o)}});return u}function t(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)n(t);"function"==typeof e.toJSON&&n("toJSON")}else for(t in e)n(t)}function r(){this.keys=[];this.hb=[]}p.Qb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return n(e,function(e){for(var n=0;p.C(e)&&10>n;n++)e=e();return e})};p.toJSON=function(e,n,t){e=p.Qb(e);return p.a.eb(e,n,t)};r.prototype={save:function(e,n){var t=p.a.m(this.keys,e);0<=t?this.hb[t]=n:(this.keys.push(e),this.hb.push(n))},get:function(n){n=p.a.m(this.keys,n);return 0<=n?this.hb[n]:e}}})();p.b("toJS",p.Qb);p.b("toJSON",p.toJSON);(function(){p.i={q:function(n){switch(p.a.t(n)){case"option":return!0===n.__ko__hasDomDataOptionValue__?p.a.e.get(n,p.d.options.Va):7>=p.a.L?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return 0<=n.selectedIndex?p.i.q(n.options[n.selectedIndex]):e;default:return n.value}},ca:function(n,t,r){switch(p.a.t(n)){case"option":switch(typeof t){case"string":p.a.e.set(n,p.d.options.Va,e);"__ko__hasDomDataOptionValue__"in n&&delete n.__ko__hasDomDataOptionValue__;n.value=t;break;default:p.a.e.set(n,p.d.options.Va,t),n.__ko__hasDomDataOptionValue__=!0,n.value="number"===typeof t?t:""}break;case"select":if(""===t||null===t)t=e;for(var a=-1,i=0,o=n.options.length,u;i<o;++i)if(u=p.i.q(n.options[i]),u==t||""==u&&t===e){a=i;break}if(r||0<=a||t===e&&1<n.size)n.selectedIndex=a;break;default:if(null===t||t===e)t="";n.value=t}}}})();p.b("selectExtensions",p.i);p.b("selectExtensions.readValue",p.i.q);p.b("selectExtensions.writeValue",p.i.ca);p.h=function(){function e(e){e=p.a.cb(e);123===e.charCodeAt(0)&&(e=e.slice(1,-1));var n=[],t=e.match(r),o,u,c=0;if(t){t.push(",");for(var s=0,f;f=t[s];++s){var l=f.charCodeAt(0);if(44===l){if(0>=c){o&&n.push(u?{key:o,value:u.join("")}:{unknown:o});o=u=c=0;continue}}else if(58===l){if(!u)continue}else if(47===l&&s&&1<f.length)(l=t[s-1].match(a))&&!i[l[0]]&&(e=e.substr(e.indexOf(f)+1),t=e.match(r),t.push(","),s=-1,f="/");else if(40===l||123===l||91===l)++c;else if(41===l||125===l||93===l)--c;else if(!o&&!u){o=34===l||39===l?f.slice(1,-1):f;continue}u?u.push(f):u=[f]}}return n}var n=["true","false","null","undefined"],t=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),a=/[\])"'A-Za-z0-9_$]+$/,i={"in":1,"return":1,"typeof":1},o={};return{ha:[],V:o,Wa:e,ya:function(r,a){function i(e,r){var a;if(!f){var l=p.getBindingHandler(e);if(l&&l.preprocess&&!(r=l.preprocess(r,e,i)))return;if(l=o[e])a=r,0<=p.a.m(n,a)?a=!1:(l=a.match(t),a=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:a),l=a;l&&c.push("'"+e+"':function(_z){"+a+"=_z}")}s&&(r="function(){return "+r+" }");u.push("'"+e+"':"+r)}a=a||{};var u=[],c=[],s=a.valueAccessors,f=a.bindingParams,l="string"===typeof r?e(r):r;p.a.u(l,function(e){i(e.key||e.unknown,e.value)});c.length&&i("_ko_property_writers","{"+c.join(",")+" }");return u.join(",")},lc:function(e,n){for(var t=0;t<e.length;t++)if(e[t].key==n)return!0;return!1},pa:function(e,n,t,r,a){if(e&&p.C(e))!p.Ra(e)||a&&e.v()===r||e(r);else if((e=n.get("_ko_property_writers"))&&e[t])e[t](r)}}}();p.b("expressionRewriting",p.h);p.b("expressionRewriting.bindingRewriteValidators",p.h.ha);p.b("expressionRewriting.parseObjectLiteral",p.h.Wa);p.b("expressionRewriting.preProcessBindings",p.h.ya);p.b("expressionRewriting._twoWayBindings",p.h.V);p.b("jsonExpressionRewriting",p.h);p.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",p.h.ya);(function(){function e(e){return 8==e.nodeType&&o.test(i?e.text:e.nodeValue)}function n(e){return 8==e.nodeType&&u.test(i?e.text:e.nodeValue)}function r(t,r){for(var a=t,i=1,o=[];a=a.nextSibling;){if(n(a)&&(i--,0===i))return o;o.push(a);e(a)&&i++}if(!r)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function a(e,n){var t=r(e,n);return t?0<t.length?t[t.length-1].nextSibling:e.nextSibling:null}var i=t&&"<!--test-->"===t.createComment("test").text,o=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,u=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};p.f={Q:{},childNodes:function(n){return e(n)?r(n):n.childNodes},ja:function(n){if(e(n)){n=p.f.childNodes(n);for(var t=0,r=n.length;t<r;t++)p.removeNode(n[t])}else p.a.Ka(n)},T:function(n,t){if(e(n)){p.f.ja(n);for(var r=n.nextSibling,a=0,i=t.length;a<i;a++)r.parentNode.insertBefore(t[a],r)}else p.a.T(n,t)},Hb:function(n,t){e(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},Bb:function(n,t,r){r?e(n)?n.parentNode.insertBefore(t,r.nextSibling):r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):p.f.Hb(n,t)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){e(t)&&(t=a(t));return t.nextSibling&&n(t.nextSibling)?null:t.nextSibling},gc:e,xc:function(e){return(e=(i?e.text:e.nodeValue).match(o))?e[1]:null},Fb:function(t){if(c[p.a.t(t)]){var r=t.firstChild;if(r){do if(1===r.nodeType){var i;i=r.firstChild;var o=null;if(i){do if(o)o.push(i);else if(e(i)){var u=a(i,!0);u?i=u:o=[i]}else n(i)&&(o=[i]);while(i=i.nextSibling)}if(i=o)for(o=r.nextSibling,u=0;u<i.length;u++)o?t.insertBefore(i[u],o):t.appendChild(i[u])}while(r=r.nextSibling)}}}}})();p.b("virtualElements",p.f);p.b("virtualElements.allowedBindings",p.f.Q);p.b("virtualElements.emptyNode",p.f.ja);p.b("virtualElements.insertAfter",p.f.Bb);p.b("virtualElements.prepend",p.f.Hb);p.b("virtualElements.setDomNodeChildren",p.f.T);(function(){p.J=function(){this.Yb={}};p.a.extend(p.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||p.g.getComponentNameForNode(e);case 8:return p.f.gc(e);default:return!1}},getBindings:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e):null;return p.g.mb(t,e,n,!1)},getBindingAccessors:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e,{valueAccessors:!0}):null;return p.g.mb(t,e,n,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return p.f.xc(e);default:return null}},parseBindingsString:function(e,n,t,r){try{var a=this.Yb,i=e+(r&&r.valueAccessors||""),o;if(!(o=a[i])){var u,c="with($context){with($data||{}){return{"+p.h.ya(e,r)+"}}}";u=new Function("$context","$element",c);o=a[i]=u}return o(n,t)}catch(s){throw s.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+s.message,s}}});p.J.instance=new p.J})();p.b("bindingProvider",p.J);(function(){function t(e){return function(){return e}}function r(e){return e()}function i(e){return p.a.na(p.k.B(e),function(n,t){return function(){return e()[t]}})}function o(e,n){return i(this.getBindings.bind(this,e,n))}function u(e,n,t){var r,a=p.f.firstChild(n),i=p.J.instance,o=i.preprocessNode;if(o){for(;r=a;)a=p.f.nextSibling(r),o.call(i,r);a=p.f.firstChild(n)}for(;r=a;)a=p.f.nextSibling(r),c(e,r,t)}function c(e,n,t){var r=!0,a=1===n.nodeType;a&&p.f.Fb(n);if(a&&t||p.J.instance.nodeHasBindings(n))r=f(n,null,e,t).shouldBindDescendants;r&&!d[p.a.t(n)]&&u(e,n,!a)}function s(e){var n=[],t={},r=[];p.a.G(e,function a(i){if(!t[i]){var o=p.getBindingHandler(i);o&&(o.after&&(r.push(i),p.a.u(o.after,function(n){if(e[n]){if(-1!==p.a.m(r,n))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));a(n)}}),r.length--),n.push({key:i,zb:o}));t[i]=!0}});return n}function f(n,t,a,i){var u=p.a.e.get(n,h);if(!t){if(u)throw Error("You cannot apply bindings multiple times to the same element.");p.a.e.set(n,h,!0)}!u&&i&&p.Ob(n,a);var c;if(t&&"function"!==typeof t)c=t;else{var f=p.J.instance,l=f.getBindingAccessors||o,d=p.j(function(){(c=t?t(a,n):l.call(f,n,a))&&a.I&&a.I();return c},null,{o:n});c&&d.Z()||(d=null)}var b;if(c){var m=d?function(e){return function(){return r(d()[e])}}:function(e){return c[e]},g=function(){return p.a.na(d?d():c,r)};g.get=function(e){return c[e]&&r(m(e))};g.has=function(e){return e in c};i=s(c);p.a.u(i,function(t){var r=t.zb.init,i=t.zb.update,o=t.key;if(8===n.nodeType&&!p.f.Q[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof r&&p.k.B(function(){var t=r(n,m(o),g,a.$data,a);if(t&&t.controlsDescendantBindings){if(b!==e)throw Error("Multiple bindings ("+b+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");b=o}}),"function"==typeof i&&p.j(function(){i(n,m(o),g,a.$data,a)},null,{o:n})}catch(u){throw u.message='Unable to process binding "'+o+": "+c[o]+'"\nMessage: '+u.message,u}})}return{shouldBindDescendants:b===e}}function l(e){return e&&e instanceof p.N?e:new p.N(e)}p.d={};var d={script:!0};p.getBindingHandler=function(e){return p.d[e]};p.N=function(n,t,r,a){var i=this,o="function"==typeof n&&!p.C(n),u,c=p.j(function(){var e=o?n():n,u=p.a.c(e);t?(t.I&&t.I(),p.a.extend(i,t),c&&(i.I=c)):(i.$parents=[],i.$root=u,i.ko=p);i.$rawData=e;i.$data=u;r&&(i[r]=u);a&&a(i,t,u);return i.$data},null,{Ia:function(){return u&&!p.a.ob(u)},o:!0});c.Z()&&(i.I=c,c.equalityComparer=null,u=[],c.Tb=function(n){u.push(n);p.a.w.da(n,function(n){p.a.ua(u,n);u.length||(c.K(),i.I=c=e)})})};p.N.prototype.createChildContext=function(e,n,t){return new p.N(e,this,n,function(e,n){e.$parentContext=n;e.$parent=n.$data;e.$parents=(n.$parents||[]).slice(0);e.$parents.unshift(e.$parent);t&&t(e)})};p.N.prototype.extend=function(e){return new p.N(this.I||this.$data,this,null,function(n,t){n.$rawData=t.$rawData;p.a.extend(n,"function"==typeof e?e():e)})};var h=p.a.e.F(),b=p.a.e.F();p.Ob=function(e,n){if(2==arguments.length)p.a.e.set(e,b,n),n.I&&n.I.Tb(e);else return p.a.e.get(e,b)};p.ra=function(e,n,t){1===e.nodeType&&p.f.Fb(e);return f(e,n,l(t),!0)};p.Wb=function(e,n,r){r=l(r);return p.ra(e,"function"===typeof n?i(n.bind(null,r,e)):p.a.na(n,t),r)};p.Ca=function(e,n){1!==n.nodeType&&8!==n.nodeType||u(l(e),n,!0)};p.pb=function(e,t){!a&&n.jQuery&&(a=n.jQuery);if(t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body;c(l(e),t,!0)};p.Ha=function(n){switch(n.nodeType){case 1:case 8:var t=p.Ob(n);if(t)return t;if(n.parentNode)return p.Ha(n.parentNode)}return e};p.$b=function(n){return(n=p.Ha(n))?n.$data:e};p.b("bindingHandlers",p.d);p.b("applyBindings",p.pb);p.b("applyBindingsToDescendants",p.Ca);p.b("applyBindingAccessorsToNode",p.ra);p.b("applyBindingsToNode",p.Wb);p.b("contextFor",p.Ha);p.b("dataFor",p.$b)})();(function(e){function n(n,r){var o=a.hasOwnProperty(n)?a[n]:e,u;o||(o=a[n]=new p.P,t(n,function(e){i[n]=e;delete a[n];u?o.notifySubscribers(e):setTimeout(function(){o.notifySubscribers(e)},0)}),u=!0);o.U(r)}function t(e,n){r("getConfig",[e],function(t){t?r("loadComponent",[e,t],function(e){n(e)}):n(null)})}function r(n,t,a,i){i||(i=p.g.loaders.slice(0));var o=i.shift();if(o){var u=o[n];if(u){var c=!1;if(u.apply(o,t.concat(function(e){c?a(null):null!==e?a(e):r(n,t,a,i)}))!==e&&(c=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(n,t,a,i)}else a(null)}var a={},i={};p.g={get:function(t,r){var a=i.hasOwnProperty(t)?i[t]:e;a?setTimeout(function(){r(a)},0):n(t,r)},tb:function(e){delete i[e]
},jb:r};p.g.loaders=[];p.b("components",p.g);p.b("components.get",p.g.get);p.b("components.clearCachedDefinition",p.g.tb)})();(function(){function e(e,n,t,r){function a(){0===--u&&r(i)}var i={},u=2,c=t.template;t=t.viewModel;c?o(n,c,function(n){p.g.jb("loadTemplate",[e,n],function(e){i.template=e;a()})}):a();t?o(n,t,function(n){p.g.jb("loadViewModel",[e,n],function(e){i[f]=e;a()})}):a()}function r(e,n,t){if("function"===typeof n)t(function(e){return new n(e)});else if("function"===typeof n[f])t(n[f]);else if("instance"in n){var a=n.instance;t(function(){return a})}else"viewModel"in n?r(e,n.viewModel,t):e("Unknown viewModel value: "+n)}function a(e){switch(p.a.t(e)){case"script":return p.a.ba(e.text);case"textarea":return p.a.ba(e.value);case"template":if(i(e.content))return p.a.ia(e.content.childNodes)}return p.a.ia(e.childNodes)}function i(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,t,r){"string"===typeof t.require?u||n.require?(u||n.require)([t.require],r):e("Uses require, but no AMD loader is present"):r(t)}function c(e){return function(n){throw Error("Component '"+e+"': "+n)}}var s={};p.g.tc=function(e,n){if(!n)throw Error("Invalid configuration for "+e);if(p.g.Qa(e))throw Error("Component "+e+" is already registered");s[e]=n};p.g.Qa=function(e){return e in s};p.g.wc=function(e){delete s[e];p.g.tb(e)};p.g.ub={getConfig:function(e,n){n(s.hasOwnProperty(e)?s[e]:null)},loadComponent:function(n,t,r){var a=c(n);o(a,t,function(t){e(n,a,t,r)})},loadTemplate:function(e,r,o){e=c(e);if("string"===typeof r)o(p.a.ba(r));else if(r instanceof Array)o(r);else if(i(r))o(p.a.S(r.childNodes));else if(r.element)if(r=r.element,n.HTMLElement?r instanceof HTMLElement:r&&r.tagName&&1===r.nodeType)o(a(r));else if("string"===typeof r){var u=t.getElementById(r);u?o(a(u)):e("Cannot find element with ID "+r)}else e("Unknown element type: "+r);else e("Unknown template value: "+r)},loadViewModel:function(e,n,t){r(c(e),n,t)}};var f="createViewModel";p.b("components.register",p.g.tc);p.b("components.isRegistered",p.g.Qa);p.b("components.unregister",p.g.wc);p.b("components.defaultLoader",p.g.ub);p.g.loaders.push(p.g.ub);p.g.Ub=s})();(function(){function e(e,t){var r=e.getAttribute("params");if(r){var r=n.parseBindingsString(r,t,e,{valueAccessors:!0,bindingParams:!0}),r=p.a.na(r,function(n){return p.s(n,null,{o:e})}),a=p.a.na(r,function(n){return n.Z()?p.s(function(){return p.a.c(n())},null,{o:e}):n.v()});a.hasOwnProperty("$raw")||(a.$raw=r);return a}return{$raw:{}}}p.g.getComponentNameForNode=function(e){e=p.a.t(e);return p.g.Qa(e)&&e};p.g.mb=function(n,t,r,a){if(1===t.nodeType){var i=p.g.getComponentNameForNode(t);if(i){n=n||{};if(n.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:i,params:e(t,r)};n.component=a?function(){return o}:o}}return n};var n=new p.J;9>p.a.L&&(p.g.register=function(e){return function(n){t.createElement(n);return e.apply(this,arguments)}}(p.g.register),t.createDocumentFragment=function(e){return function(){var n=e(),t=p.g.Ub,r;for(r in t)t.hasOwnProperty(r)&&n.createElement(r);return n}}(t.createDocumentFragment))})();(function(){var e=0;p.d.component={init:function(n,t,r,a,i){function o(){var e=u&&u.dispose;"function"===typeof e&&e.call(u);c=null}var u,c;p.a.w.da(n,o);p.s(function(){var r=p.a.c(t()),a,s;"string"===typeof r?a=r:(a=p.a.c(r.name),s=p.a.c(r.params));if(!a)throw Error("No component name specified");var f=c=++e;p.g.get(a,function(e){if(c===f){o();if(!e)throw Error("Unknown component '"+a+"'");var t=e.template;if(!t)throw Error("Component '"+a+"' has no template");t=p.a.ia(t);p.f.T(n,t);var t=s,r=e.createViewModel;e=r?r.call(e,t,{element:n}):t;t=i.createChildContext(e);u=e;p.Ca(t,n)}})},null,{o:n});return{controlsDescendantBindings:!0}}};p.f.Q.component=!0})();var v={"class":"className","for":"htmlFor"};p.d.attr={update:function(n,t){var r=p.a.c(t())||{};p.a.G(r,function(t,r){r=p.a.c(r);var a=!1===r||null===r||r===e;a&&n.removeAttribute(t);8>=p.a.L&&t in v?(t=v[t],a?n.removeAttribute(t):n[t]=r):a||n.setAttribute(t,r.toString());"name"===t&&p.a.Mb(n,a?"":r.toString())})}};(function(){p.d.checked={after:["value","attr"],init:function(n,t,r){function a(){var e=n.checked,a=l?o():e;if(!p.Y.ma()&&(!c||e)){var i=p.k.B(t);s?f!==a?(e&&(p.a.ea(i,a,!0),p.a.ea(i,f,!1)),f=a):p.a.ea(i,a,e):p.h.pa(i,r,"checked",a,!0)}}function i(){var e=p.a.c(t());n.checked=s?0<=p.a.m(e,o()):u?e:o()===e}var o=p.Ib(function(){return r.has("checkedValue")?p.a.c(r.get("checkedValue")):r.has("value")?p.a.c(r.get("value")):n.value}),u="checkbox"==n.type,c="radio"==n.type;if(u||c){var s=u&&p.a.c(t())instanceof Array,f=s?o():e,l=c||s;c&&!n.name&&p.d.uniqueName.init(n,function(){return!0});p.s(a,null,{o:n});p.a.n(n,"click",a);p.s(i,null,{o:n})}}};p.h.V.checked=!0;p.d.checkedValue={update:function(e,n){e.value=p.a.c(n())}}})();p.d.css={update:function(e,n){var t=p.a.c(n());"object"==typeof t?p.a.G(t,function(n,t){t=p.a.c(t);p.a.Ba(e,n,t)}):(t=String(t||""),p.a.Ba(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,p.a.Ba(e,t,!0))}};p.d.enable={update:function(e,n){var t=p.a.c(n());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}};p.d.disable={update:function(e,n){p.d.enable.update(e,function(){return!p.a.c(n())})}};p.d.event={init:function(e,n,t,r,a){var i=n()||{};p.a.G(i,function(i){"string"==typeof i&&p.a.n(e,i,function(e){var o,u=n()[i];if(u){try{var c=p.a.S(arguments);r=a.$data;c.unshift(r);o=u.apply(r,c)}finally{!0!==o&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===t.get(i+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}};p.d.foreach={Eb:function(e){return function(){var n=e(),t=p.a.Xa(n);if(!t||"number"==typeof t.length)return{foreach:n,templateEngine:p.O.Oa};p.a.c(n);return{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:p.O.Oa}}},init:function(e,n){return p.d.template.init(e,p.d.foreach.Eb(n))},update:function(e,n,t,r,a){return p.d.template.update(e,p.d.foreach.Eb(n),t,r,a)}};p.h.ha.foreach=!1;p.f.Q.foreach=!0;p.d.hasfocus={init:function(e,n,t){function r(r){e.__ko_hasfocusUpdating=!0;var a=e.ownerDocument;if("activeElement"in a){var i;try{i=a.activeElement}catch(o){i=a.body}r=i===e}a=n();p.h.pa(a,t,"hasfocus",r,!0);e.__ko_hasfocusLastValue=r;e.__ko_hasfocusUpdating=!1}var a=r.bind(null,!0),i=r.bind(null,!1);p.a.n(e,"focus",a);p.a.n(e,"focusin",a);p.a.n(e,"blur",i);p.a.n(e,"focusout",i)},update:function(e,n){var t=!!p.a.c(n());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),p.k.B(p.a.oa,null,[e,t?"focusin":"focusout"]))}};p.h.V.hasfocus=!0;p.d.hasFocus=p.d.hasfocus;p.h.V.hasFocus=!0;p.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){p.a.$a(e,n())}};l("if");l("ifnot",!1,!0);l("with",!0,!1,function(e,n){return e.createChildContext(n)});var y={};p.d.options={init:function(e){if("select"!==p.a.t(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(n,t,r){function a(){return p.a.ta(n.options,function(e){return e.selected})}function i(e,n,t){var r=typeof n;return"function"==r?n(e):"string"==r?e[n]:t}function o(e,t){if(l.length){var r=0<=p.a.m(l,p.i.q(t[0]));p.a.Nb(t[0],r);d&&!r&&p.k.B(p.a.oa,null,[n,"change"])}}var u=0!=n.length&&n.multiple?n.scrollTop:null,c=p.a.c(t()),s=r.get("optionsIncludeDestroyed");t={};var f,l;l=n.multiple?p.a.Da(a(),p.i.q):0<=n.selectedIndex?[p.i.q(n.options[n.selectedIndex])]:[];c&&("undefined"==typeof c.length&&(c=[c]),f=p.a.ta(c,function(n){return s||n===e||null===n||!p.a.c(n._destroy)}),r.has("optionsCaption")&&(c=p.a.c(r.get("optionsCaption")),null!==c&&c!==e&&f.unshift(y)));var d=!1;t.beforeRemove=function(e){n.removeChild(e)};c=o;r.has("optionsAfterRender")&&(c=function(n,t){o(0,t);p.k.B(r.get("optionsAfterRender"),null,[t[0],n!==y?n:e])});p.a.Za(n,f,function(t,a,o){o.length&&(l=o[0].selected?[p.i.q(o[0])]:[],d=!0);a=n.ownerDocument.createElement("option");t===y?(p.a.bb(a,r.get("optionsCaption")),p.i.ca(a,e)):(o=i(t,r.get("optionsValue"),t),p.i.ca(a,p.a.c(o)),t=i(t,r.get("optionsText"),o),p.a.bb(a,t));return[a]},t,c);p.k.B(function(){r.get("valueAllowUnset")&&r.has("value")?p.i.ca(n,p.a.c(r.get("value")),!0):(n.multiple?l.length&&a().length<l.length:l.length&&0<=n.selectedIndex?p.i.q(n.options[n.selectedIndex])!==l[0]:l.length||0<=n.selectedIndex)&&p.a.oa(n,"change")});p.a.dc(n);u&&20<Math.abs(u-n.scrollTop)&&(n.scrollTop=u)}};p.d.options.Va=p.a.e.F();p.d.selectedOptions={after:["options","foreach"],init:function(e,n,t){p.a.n(e,"change",function(){var r=n(),a=[];p.a.u(e.getElementsByTagName("option"),function(e){e.selected&&a.push(p.i.q(e))});p.h.pa(r,t,"selectedOptions",a)})},update:function(e,n){if("select"!=p.a.t(e))throw Error("values binding applies only to SELECT elements");var t=p.a.c(n());t&&"number"==typeof t.length&&p.a.u(e.getElementsByTagName("option"),function(e){var n=0<=p.a.m(t,p.i.q(e));p.a.Nb(e,n)})}};p.h.V.selectedOptions=!0;p.d.style={update:function(n,t){var r=p.a.c(t()||{});p.a.G(r,function(t,r){r=p.a.c(r);if(null===r||r===e||!1===r)r="";n.style[t]=r})}};p.d.submit={init:function(e,n,t,r,a){if("function"!=typeof n())throw Error("The value for a submit binding must be a function");p.a.n(e,"submit",function(t){var r,i=n();try{r=i.call(a.$data,e)}finally{!0!==r&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}};p.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){p.a.bb(e,n())}};p.f.Q.text=!0;(function(){if(n&&n.navigator)var t=function(e){if(e)return parseFloat(e[1])},r=n.opera&&n.opera.version&&parseInt(n.opera.version()),a=n.navigator.userAgent,i=t(a.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=t(a.match(/Firefox\/([^ ]*)/));if(10>p.a.L)var u=p.a.e.F(),c=p.a.e.F(),s=function(e){var n=this.activeElement;(n=n&&p.a.e.get(n,c))&&n(e)},f=function(e,n){var t=e.ownerDocument;p.a.e.get(t,u)||(p.a.e.set(t,u,!0),p.a.n(t,"selectionchange",s));p.a.e.set(e,c,n)};p.d.textInput={init:function(n,t,a){function u(e,t){p.a.n(n,e,t)}function c(){var r=p.a.c(t());if(null===r||r===e)r="";b!==e&&r===b?setTimeout(c,4):n.value!==r&&(d=r,n.value=r)}function s(){h||(b=n.value,h=setTimeout(l,4))}function l(){clearTimeout(h);b=h=e;var r=n.value;d!==r&&(d=r,p.h.pa(t(),a,"textInput",r))}var d=n.value,h,b;10>p.a.L?(u("propertychange",function(e){"value"===e.propertyName&&l()}),8==p.a.L&&(u("keyup",l),u("keydown",l)),8<=p.a.L&&(f(n,l),u("dragend",s))):(u("input",l),5>i&&"textarea"===p.a.t(n)?(u("keydown",s),u("paste",s),u("cut",s)):11>r?u("keydown",s):4>o&&(u("DOMAutoComplete",l),u("dragdrop",l),u("drop",l)));u("change",l);p.s(c,null,{o:n})}};p.h.V.textInput=!0;p.d.textinput={preprocess:function(e,n,t){t("textInput",e)}}})();p.d.uniqueName={init:function(e,n){if(n()){var t="ko_unique_"+ ++p.d.uniqueName.Zb;p.a.Mb(e,t)}}};p.d.uniqueName.Zb=0;p.d.value={after:["options","foreach"],init:function(e,n,t){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var r=["change"],a=t.get("valueUpdate"),i=!1,o=null;a&&("string"==typeof a&&(a=[a]),p.a.ga(r,a),r=p.a.rb(r));var u=function(){o=null;i=!1;var r=n(),a=p.i.q(e);p.h.pa(r,t,"value",a)};!p.a.L||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=p.a.m(r,"propertychange")||(p.a.n(e,"propertychange",function(){i=!0}),p.a.n(e,"focus",function(){i=!1}),p.a.n(e,"blur",function(){i&&u()}));p.a.u(r,function(n){var t=u;p.a.vc(n,"after")&&(t=function(){o=p.i.q(e);setTimeout(u,0)},n=n.substring(5));p.a.n(e,n,t)});var c=function(){var r=p.a.c(n()),a=p.i.q(e);if(null!==o&&r===o)setTimeout(c,0);else if(r!==a)if("select"===p.a.t(e)){var i=t.get("valueAllowUnset"),a=function(){p.i.ca(e,r,i)};a();i||r===p.i.q(e)?setTimeout(a,0):p.k.B(p.a.oa,null,[e,"change"])}else p.i.ca(e,r)};p.s(c,null,{o:e})}else p.ra(e,{checkedValue:n})},update:function(){}};p.h.V.value=!0;p.d.visible={update:function(e,n){var t=p.a.c(n()),r="none"!=e.style.display;t&&!r?e.style.display="":!t&&r&&(e.style.display="none")}};(function(e){p.d[e]={init:function(n,t,r,a,i){return p.d.event.init.call(this,n,function(){var n={};n[e]=t();return n},r,a,i)}}})("click");p.H=function(){};p.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")};p.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")};p.H.prototype.makeTemplateSource=function(e,n){if("string"==typeof e){n=n||t;var r=n.getElementById(e);if(!r)throw Error("Cannot find template with ID "+e);return new p.r.l(r)}if(1==e.nodeType||8==e.nodeType)return new p.r.fa(e);throw Error("Unknown template type: "+e)};p.H.prototype.renderTemplate=function(e,n,t,r){e=this.makeTemplateSource(e,r);return this.renderTemplateSource(e,n,t)};p.H.prototype.isTemplateRewritten=function(e,n){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,n).data("isRewritten")};p.H.prototype.rewriteTemplate=function(e,n,t){e=this.makeTemplateSource(e,t);n=n(e.text());e.text(n);e.data("isRewritten",!0)};p.b("templateEngine",p.H);p.fb=function(){function e(e,n,t,r){e=p.h.Wa(e);for(var a=p.h.ha,i=0;i<e.length;i++){var o=e[i].key;if(a.hasOwnProperty(o)){var u=a[o];if("function"===typeof u){if(o=u(e[i].value))throw Error(o)}else if(!u)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}t="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+p.h.ya(e,{valueAccessors:!0})+" } })()},'"+t.toLowerCase()+"')";return r.createJavaScriptEvaluatorBlock(t)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,t=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(e,n,t){n.isTemplateRewritten(e,t)||n.rewriteTemplate(e,function(e){return p.fb.nc(e,n)},t)},nc:function(r,a){return r.replace(n,function(n,t,r,i,o){return e(o,t,r,a)}).replace(t,function(n,t){return e(t,"<!-- ko -->","#comment",a)})},Xb:function(e,n){return p.D.Ua(function(t,r){var a=t.nextSibling;a&&a.nodeName.toLowerCase()===n&&p.ra(a,e,r)})}}}();p.b("__tr_ambtns",p.fb.Xb);(function(){p.r={};p.r.l=function(e){this.l=e};p.r.l.prototype.text=function(){var e=p.a.t(this.l),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.l[e];var n=arguments[0];"innerHTML"===e?p.a.$a(this.l,n):this.l[e]=n};var n=p.a.e.F()+"_";p.r.l.prototype.data=function(e){if(1===arguments.length)return p.a.e.get(this.l,n+e);p.a.e.set(this.l,n+e,arguments[1])};var t=p.a.e.F();p.r.fa=function(e){this.l=e};p.r.fa.prototype=new p.r.l;p.r.fa.prototype.text=function(){if(0==arguments.length){var n=p.a.e.get(this.l,t)||{};n.gb===e&&n.Ga&&(n.gb=n.Ga.innerHTML);return n.gb}p.a.e.set(this.l,t,{gb:arguments[0]})};p.r.l.prototype.nodes=function(){if(0==arguments.length)return(p.a.e.get(this.l,t)||{}).Ga;p.a.e.set(this.l,t,{Ga:arguments[0]})};p.b("templateSources",p.r);p.b("templateSources.domElement",p.r.l);p.b("templateSources.anonymousTemplate",p.r.fa)})();(function(){function n(e,n,t){var r;for(n=p.f.nextSibling(n);e&&(r=e)!==n;)e=p.f.nextSibling(r),t(r,e)}function t(e,t){if(e.length){var r=e[0],a=e[e.length-1],i=r.parentNode,o=p.J.instance,u=o.preprocessNode;if(u){n(r,a,function(e,n){var t=e.previousSibling,i=u.call(o,e);i&&(e===r&&(r=i[0]||n),e===a&&(a=i[i.length-1]||t))});e.length=0;if(!r)return;r===a?e.push(r):(e.push(r,a),p.a.ka(e,i))}n(r,a,function(e){1!==e.nodeType&&8!==e.nodeType||p.pb(t,e)});n(r,a,function(e){1!==e.nodeType&&8!==e.nodeType||p.D.Sb(e,[t])});p.a.ka(e,i)}}function r(e){return e.nodeType?e:0<e.length?e[0]:null}function a(e,n,a,o,u){u=u||{};var c=e&&r(e),c=c&&c.ownerDocument,s=u.templateEngine||i;p.fb.ec(a,s,c);a=s.renderTemplate(a,o,u,c);if("number"!=typeof a.length||0<a.length&&"number"!=typeof a[0].nodeType)throw Error("Template engine must return an array of DOM nodes");c=!1;switch(n){case"replaceChildren":p.f.T(e,a);c=!0;break;case"replaceNode":p.a.Lb(e,a);c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}c&&(t(a,o),u.afterRender&&p.k.B(u.afterRender,null,[a,o.$data]));return a}var i;p.ab=function(n){if(n!=e&&!(n instanceof p.H))throw Error("templateEngine must inherit from ko.templateEngine");i=n};p.Ya=function(n,t,o,u,c){o=o||{};if((o.templateEngine||i)==e)throw Error("Set a template engine before calling renderTemplate");c=c||"replaceChildren";if(u){var s=r(u);return p.j(function(){var e=t&&t instanceof p.N?t:new p.N(p.a.c(t)),i=p.C(n)?n():"function"===typeof n?n(e.$data,e):n,e=a(u,c,i,e,o);"replaceNode"==c&&(u=e,s=r(u))},null,{Ia:function(){return!s||!p.a.Ja(s)},o:s&&"replaceNode"==c?s.parentNode:s})}return p.D.Ua(function(e){p.Ya(n,t,o,e,"replaceNode")})};p.uc=function(n,r,i,o,u){function c(e,n){t(n,f);i.afterRender&&i.afterRender(n,e)}function s(e,t){f=u.createChildContext(e,i.as,function(e){e.$index=t});var r=p.C(n)?n():"function"===typeof n?n(e,f):n;return a(null,"ignoreTargetNode",r,f,i)}var f;return p.j(function(){var n=p.a.c(r)||[];"undefined"==typeof n.length&&(n=[n]);n=p.a.ta(n,function(n){return i.includeDestroyed||n===e||null===n||!p.a.c(n._destroy)});p.k.B(p.a.Za,null,[o,n,s,i,c])},null,{o:o})};var o=p.a.e.F();p.d.template={init:function(e,n){var t=p.a.c(n());"string"==typeof t||t.name?p.f.ja(e):(t=p.f.childNodes(e),t=p.a.oc(t),new p.r.fa(e).nodes(t));return{controlsDescendantBindings:!0}},update:function(n,t,r,a,i){var u=t(),c;t=p.a.c(u);r=!0;a=null;"string"==typeof t?t={}:(u=t.name,"if"in t&&(r=p.a.c(t["if"])),r&&"ifnot"in t&&(r=!p.a.c(t.ifnot)),c=p.a.c(t.data));"foreach"in t?a=p.uc(u||n,r&&t.foreach||[],t,n,i):r?(i="data"in t?i.createChildContext(c,t.as):i,a=p.Ya(u||n,i,t,n)):p.f.ja(n);i=a;(c=p.a.e.get(n,o))&&"function"==typeof c.K&&c.K();p.a.e.set(n,o,i&&i.Z()?i:e)}};p.h.ha.template=function(e){e=p.h.Wa(e);return 1==e.length&&e[0].unknown||p.h.lc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"};p.f.Q.template=!0})();p.b("setTemplateEngine",p.ab);p.b("renderTemplate",p.Ya);p.a.wb=function(e,n,t){if(e.length&&n.length){var r,a,i,o,u;for(r=a=0;(!t||r<t)&&(o=e[a]);++a){for(i=0;u=n[i];++i)if(o.value===u.value){o.moved=u.index;u.moved=o.index;n.splice(i,1);r=i=0;break}r+=i}}};p.a.Fa=function(){function e(e,n,t,r,a){var i=Math.min,o=Math.max,u=[],c,s=e.length,f,l=n.length,d=l-s||1,h=s+l+1,b,m,g;for(c=0;c<=s;c++)for(m=b,u.push(b=[]),g=i(l,c+d),f=o(0,c-1);f<=g;f++)b[f]=f?c?e[c-1]===n[f-1]?m[f-1]:i(m[f]||h,b[f-1]||h)+1:f+1:c+1;i=[];o=[];d=[];c=s;for(f=l;c||f;)l=u[c][f]-1,f&&l===u[c][f-1]?o.push(i[i.length]={status:t,value:n[--f],index:f}):c&&l===u[c-1][f]?d.push(i[i.length]={status:r,value:e[--c],index:c}):(--f,--c,a.sparse||i.push({status:"retained",value:n[f]}));p.a.wb(o,d,10*s);return i.reverse()}return function(n,t,r){r="boolean"===typeof r?{dontLimitMoves:r}:r||{};n=n||[];t=t||[];return n.length<=t.length?e(n,t,"added","deleted",r):e(t,n,"deleted","added",r)}}();p.b("utils.compareArrays",p.a.Fa);(function(){function n(n,t,r,a,i){var o=[],u=p.j(function(){var e=t(r,i,p.a.ka(o,n))||[];0<o.length&&(p.a.Lb(o,e),a&&p.k.B(a,null,[r,e,i]));o.length=0;p.a.ga(o,e)},null,{o:n,Ia:function(){return!p.a.ob(o)}});return{$:o,j:u.Z()?u:e}}var t=p.a.e.F();p.a.Za=function(r,a,i,o,u){function c(e,n){x=l[n];g!==n&&(w[e]=x);x.Na(g++);p.a.ka(x.$,r);b.push(x);y.push(x)}function s(e,n){if(e)for(var t=0,r=n.length;t<r;t++)n[t]&&p.a.u(n[t].$,function(r){e(r,t,n[t].sa)})}a=a||[];o=o||{};var f=p.a.e.get(r,t)===e,l=p.a.e.get(r,t)||[],d=p.a.Da(l,function(e){return e.sa}),h=p.a.Fa(d,a,o.dontLimitMoves),b=[],m=0,g=0,v=[],y=[];a=[];for(var w=[],d=[],x,k=0,E,T;E=h[k];k++)switch(T=E.moved,E.status){case"deleted":T===e&&(x=l[m],x.j&&x.j.K(),v.push.apply(v,p.a.ka(x.$,r)),o.beforeRemove&&(a[k]=x,y.push(x)));m++;break;case"retained":c(k,m++);break;case"added":T!==e?c(k,T):(x={sa:E.value,Na:p.p(g++)},b.push(x),y.push(x),f||(d[k]=x))}s(o.beforeMove,w);p.a.u(v,o.beforeRemove?p.R:p.removeNode);for(var k=0,f=p.f.firstChild(r),C;x=y[k];k++){x.$||p.a.extend(x,n(r,i,x.sa,u,x.Na));for(m=0;h=x.$[m];f=h.nextSibling,C=h,m++)h!==f&&p.f.Bb(r,h,C);!x.ic&&u&&(u(x.sa,x.$,x.Na),x.ic=!0)}s(o.beforeRemove,a);s(o.afterMove,w);s(o.afterAdd,d);p.a.e.set(r,t,b)}})();p.b("utils.setDomNodeChildrenFromArrayMapping",p.a.Za);p.O=function(){this.allowTemplateRewriting=!1};p.O.prototype=new p.H;p.O.prototype.renderTemplateSource=function(e){var n=(9>p.a.L?0:e.nodes)?e.nodes():null;if(n)return p.a.S(n.cloneNode(!0).childNodes);e=e.text();return p.a.ba(e)};p.O.Oa=new p.O;p.ab(p.O.Oa);p.b("nativeTemplateEngine",p.O);(function(){p.Sa=function(){var e=this.kc=function(){if(!a||!a.tmpl)return 0;try{if(0<=a.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,r,i){i=i||{};if(2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=n.data("precompiled");o||(o=n.text()||"",o=a.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),n.data("precompiled",o));n=[r.$data];r=a.extend({koBindingContext:r},i.templateOptions);r=a.tmpl(o,n,r);r.appendTo(t.createElement("div"));a.fragments={};return r};this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"};this.addTemplate=function(e,n){t.write("<script type='text/html' id='"+e+"'>"+n+"</script>")};0<e&&(a.tmpl.tag.ko_code={open:"__.push($1 || '');"},a.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};p.Sa.prototype=new p.H;var e=new p.Sa;0<e.kc&&p.ab(e);p.b("jqueryTmplTemplateEngine",p.Sa)})()})})()})();

function HomepageViewModel(){var e=this;e.user_email=ko.observable("");e.user_password=ko.observable("");e.formErrors=ko.observable(false);e.isFormLoading=ko.observable(false);e.showRegisterForm=ko.observable(false);e.timeoutErrorId=0;e.featureTab=ko.observable(1);e.checkLogin=function(r){if(e.isFormLoading()){return false}e.setFormErrors(false);var o=$(r).serialize();e.setFormLoading(true);var t=$.ajax({type:"POST",url:"/?module=Homepage.Login&r="+Math.random(),data:o,dataType:"json"});t.done(e.checkLoginStatus)};e.setFormErrors=function(r){e.formErrors(r);if(r===true){$(".login").stop(true).effect("shake",{distance:10,times:3});if(e.timeoutErrorId!==0){clearTimeout(e.timeoutErrorId)}e.timeoutErrorId=window.setTimeout(function(){e.formErrors(false)},1e4)}};e.setFormLoading=function(r){e.isFormLoading(r)};e.toggleRegisterForm=function(r,o){if(e.showRegisterForm()===true){e.showRegisterForm(false);$("#register-form").get(0).reset();e.reloadCaptcha()}else{e.showRegisterForm(true)}};e.reloadCaptcha=function(){if(typeof reloadImageCode==="function"){reloadImageCode(document.getElementById("imgcode"))}$("#input-captcha").val("")};e.checkLoginStatus=function(r){e.setFormLoading(false);var o=r.code||0;r.data=r.data||{};var t=r.data.forward||0;if(o===0&&t===0){window.location.reload();return}if(o===0&&t!==0){window.location=t;return}e.setFormErrors(true);e.displayFlashMessages(r)};e.doFacebookLogin=function(e,r){var o=$(r.target);var t=o.data("href");window.location=t};e.doRegister=function(r){var o=$(r).serialize();var t=$.ajax({type:"POST",url:"/?module=Homepage.Register&r="+Math.random(),data:o,dataType:"json"});t.done(function(r){var o=r.code;e.displayFlashMessages(r);if(o!==0){e.reloadCaptcha()}})};e.doForgottenPassword=function(e,r){};e.messagifyEntries=function(e){if(typeof e==="string"){e=[e]}if(typeof e==="object"){var r=$.map(e,function(e,r){return[e]});e=r}return e};e.displayFlashMessages=function(r){var o=r.code;if(o===0){e.toggleRegisterForm(true);var t=e.messagifyEntries(r.data.success);hmessage.promptSuccess(t);return true}var t=e.messagifyEntries(r.data.message);hmessage.promptErrors(t);return true};e.promptInline=function(e,r){var o=$(r.target);var t=o.attr("href");var a=$(t);if(a.size()===0){return false}var s=o.attr("title")||"";$.prompt([{title:s,buttons:{Close:false},html:a.html()}])};e.getFeatureTab=function(){return e.featureTab()||1};e.setFeatureTab=function(r){e.featureTab(r);$(".scroll-pane").mCustomScrollbar({theme:"omerta",scrollButtons:false,autoHideScrollbar:false,scrollbarPosition:"outside",scrollInertia:300,mouseWheel:{deltaFactor:1,enabled:true}})};e.isFeatureTab=function(r){return e.getFeatureTab()===r}}